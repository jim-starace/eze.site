!function(e){function t(t){var i=t||window.event,s=[].slice.call(arguments,1),n=0,a=0,o=0;return t=e.event.fix(i),t.type="mousewheel",i.wheelDelta&&(n=i.wheelDelta/120),i.detail&&(n=-i.detail/3),o=n,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(o=0,a=-1*n),void 0!==i.wheelDeltaY&&(o=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(a=-1*i.wheelDeltaX/120),s.unshift(t,n,a,o),(e.event.dispatch||e.event.handle).apply(this,s)}var i=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var s=i.length;s;)e.event.fixHooks[i[--s]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var i=new RegExp("%"+t,"gi");e=e.replace(i,arguments[t])}return e},function(e){e.pixelentity=e.pixelentity||{version:"1.0.0"};var t=navigator.userAgent.toLowerCase(),i=null!==t.match(/(iphone|ipod|ipad)/),s=!i&&t.match(/android ([^;]+)/);s?(s=s[1].split(/\./),s=parseFloat(s.shift()+"."+s.join(""))):s=!1;var n=i||s||null!==t.match(/(android|blackberry|webOS|opera mobi)/);e.pixelentity.browser={iDev:i,android:s,mobile:n}}(jQuery),function(e){e.pixelentity=e.pixelentity||{version:"1.0.0"},e.pixelentity.Geom={getScaler:function(e,t,i,s,n,a,o){var r,l={},d=s/a,h=n/o;if("string"==typeof e)switch(e){case"fill":case"fillmax":r=d>h?d:h,"fill"==e&&(r=Math.min(1,r));break;case"fit":case"fitmax":r=h>d?d:h,"fit"==e&&(r=Math.min(1,r));break;case"none":r=1}else r=e;l.ratio=r,l.diff={},l.offset={},l.align={w:t,h:i};var c=l.diff,p=l.offset;switch(c.w=p.w=s-a*r,c.h=p.h=n-o*r,t){case"center":p.w=c.w/2;break;case"left":p.w=0}switch(i){case"center":p.h=c.h/2;break;case"top":p.h=0}return l},splitProps:function(e,t){var i=e.split(/,/);return t?{h:parseFloat(i[0]),w:parseFloat(i[1])}:{h:i[0],w:i[1]}}}}(jQuery),function(e){function t(i){for(var s,n=e(i.currentTarget);n.data("peUtilsLoader")&&(s=n.data("peUtilsLoader").shift());)if(--s.total<=0){var a=s.callback,o=s.target;n.unbind("load error",t),a(o)}}if(e.pixelentity=e.pixelentity||{version:"1.0.0"},!e.pixelentity.preloader){e.pixelentity.preloader={load:function(i,s,n){i=i instanceof jQuery?i:e(i);for(var a,o,r="img"==i[0].tagName.toLowerCase()?[i[0]]:i.find("img").get(),l=[];a=r.shift();)o=a.complete,(!a.src||!o||null!==a.src.match(/blank.png$/i)&&a.getAttribute("data-src"))&&l.push(a);if(l.length>0)for(var d={target:i,callback:s,total:l.length};a=l.shift();)a=e(a),!n&&e.browser.msie&&null!==a[0].src.match(/blank.png$/i)&&(a.removeAttr("src"),a.replaceWith(a.clone()),a.attr("data-src")||d.total--),a.data("peUtilsLoader")?a.data("peUtilsLoader").push(d):a.data("peUtilsLoader",[d]),a.one("load error",t),a.attr("data-src")?(a.attr("src",a.attr("data-src")),a.removeAttr("data-src")):e.browser.msie&&a.attr("src",a.attr("src")),a=void 0;else s(i)}}}}(jQuery),function(e){var t,i,s=(new Image).style,n="ransition";i=e.support.csstransitions=(t="t"+n)in s&&t||(t="webkitT"+n)in s&&t||(t="MozT"+n)in s&&t||(t="OT"+n)in s&&t||(t="MST"+n)in s&&t||!1,e.support.csstransitionsEnd="MozTransition"==i&&"transitionend"||"OTransition"==i&&"oTransitionEnd"||i&&i+"End"}(jQuery),function(e){function t(){for(var e=0;e<a.length;e++)a[e](n)}function i(){if(!s){s=!0;var e=document.createElement("script");e.src="http://www.youtube.com/player_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i),window.onYouTubePlayerAPIReady=function(){n=YT.Player,t()}}}if(e.pixelentity=e.pixelentity||{version:"1.0.0"},!e.pixelentity.youtube){var s=!1,n=window.YT&&window.YT.Player,a=[];e.pixelentity.youtube=function(e){n?e(n):(a.push(e),i())}}}(jQuery);var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,i){if(!i||!i.contetWindow||!i.contentWindow.postMessage)return!1;var s=i.getAttribute("src").split("?")[0],n=JSON.stringify({method:e,value:t});i.contentWindow.postMessage(n,s)}function i(e){if(e.origin!=playerDomain)return!1;var t=JSON.parse(e.data),i=t.value,s=t.event||t.method,a=t.data,o=""==o?null:t.player_id,r=n(s,o),l=[];return r?(void 0!==i&&l.push(i),a&&l.push(a),o&&l.push(o),l.length>0?r.apply(null,l):r.call()):!1}function s(e,t,i){i?(l[i]||(l[i]={}),l[i][e]=t):l[e]=t}function n(e,t){return t?l[t][e]:l[e]}function a(e,t){if(t&&l[t]){if(!l[t][e])return!1;l[t][e]=null}else{if(!l[e])return!1;l[e]=null}return!0}function o(e){for(var t=e.split("/"),i="",s=0,n=t.length;n>s&&3>s;s++)i+=t[s],2>s&&(i+="/");return i}function r(e){return!!(e&&e.constructor&&e.call&&e.apply)}{var l={},d=!1;Array.prototype.slice}return e.fn=e.prototype={playerDomain:"",element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,this},api:function(e,i){if(!this.element||!e)return!1;var n=this,a=n.element,o=""!=a.id?a.id:null,l=r(i)?null:i,d=r(i)?i:null;return d&&s(e,d,o),t(e,l,a),n},addEvent:function(e,n){if(!this.element)return!1;var a=this,r=a.element,l=""!=r.id?r.id:null;return s(e,n,l),"ready"!=e&&t("addEventListener",e,r),d?a:(playerDomain=o(r.getAttribute("src")),window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i,!1),d=!0,a)},removeEvent:function(e){if(!this.element)return!1;var i=this,s=i.element,n=""!=s.id?s.id:null,o=a(e,n);"ready"!=e&&o&&t("removeEventListener",e,s)}},e.fn.init.prototype=e.fn,window.Froogaloop=e}();!function(e){function t(t,s){function n(){i++;var n=e('<iframe id="pe_vimeo_player'+i+'" src="http://player.vimeo.com/video/'+s.videoId+"?autoplay="+(s.playerVars.autoplay?1:0)+"&loop="+(s.playerVars.loop?1:0)+"&api=1&player_id=pe_vimeo_player"+i+"&origin="+location.href.match(/:\/\/(.[^\/]+)/)[1]+'" width="'+s.width+'" height="'+s.height+'" frameborder="0"></iframe>')[0];e(t).append(n),r=new Froogaloop(n),r.addEvent("ready",a),setTimeout(a,4e3)}function a(){r&&(r.removeEvent("ready",a),e(l).trigger("video_ready.pixelentity"),r.addEvent("finish",o))}function o(){e(l).trigger("video_ended.pixelentity")}var r,l=this;e.extend(l,{destroy:function(){r&&(r.removeEvent("ready",a),r.removeEvent("finish",o),e(r.element).remove(),delete r.element,r=void 0),l=void 0}}),n()}if(e.pixelentity=e.pixelentity||{version:"1.0.0"},!e.pixelentity.vimeo){var i=0;e.pixelentity.vimeo=function(e){e(t)}}}(jQuery),jQuery(function($){function Iterator(e){this.length=e.length,this.each=function(t){$.each(e,t)},this.size=function(){return e.length}}$.browser.msie&&(!function(){return}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var i=t||0,s=this.length;s>i;i++)if(this[i]==e)return i;return-1}));var projekktors=[];(void 0==$.prop||$().jquery<"1.6")&&($.fn.prop=function(e,t){return $(this).attr(e,t)}),projekktor=$p=function(){function PPlayer(srcNode,cfg,onReady){return this.config=new projekktorConfig("0.9.08"),this._persCfg=["enableNativePlayback","enableFlashFallback"],this._queue=[],this.env={muted:!1,inFullscreen:!1,playerStyle:null,scrollTop:null,scrollLeft:null,bodyOverflow:null,playerDom:null,mediaContainer:null,agent:"standard",mouseIsOver:!1,loading:!1,autoSize:!1,className:"",onReady:onReady},this.media=[null],this._plugins=[],this.listeners=[],this.playerModel={},this._isReady=!1,this._compTableCache=!1,this._currentItem=0,this._playlistServer="",this._id="",this._reelUpdate=function(e){switch(this.env.loading=!0,typeof e){default:e=[{file:"",type:"",errorCode:98}];break;case"object":0==e.length&&(e=[{file:"",type:"",errorCode:97}]);break;case"undefined":e=[{file:"",type:"",errorCode:97}]}var t=this,i=e;this.media=[];try{var s=!1;for(var n in i.config)typeof i.config[n].indexOf("objectfunction")>-1||(this.config[n]=this._cleanValue(i.config[n]),s=!0);delete i.config,s===!0&&(this._debug("Updated config var: "+n+" to "+this.config[n]),this._promote("configModified"))}catch(a){}var o=i.playlist||i;for(var r in o)"function"!=typeof o[r]&&void 0!=typeof o[r]&&o[r]&&this._addItem(this._prepareMedia({file:o[r],config:o[r].config||{},errorCode:o[r].errorCode}));this.env.loading=!1,this._promote("scheduled",this.getItemCount()),this._syncPlugins(function(){t.setActiveItem(0)})},this._addItem=function(e,t,i){var s=0;return 1===this.media.length&&"NA"==this.media[0].mediaModel&&(this._detachplayerModel(),this.media=[]),void 0===t||0>t||t>this.media.length-1?(this.media.push(e),s=this.media.length-1):(this.media.splice(t,i===!0?1:0,e),s=t),this.env.loading===!1&&this._promote("scheduleModified",this.getItemCount()),s},this._removeItem=function(e){var t=0;return 1===this.media.length?"NA"==this.media[0].mediaModel?0:(this.media[0]=this._prepareMedia({file:""}),0):(void 0===e||0>e||e>this.media.length-1?(this.media.pop(),t=this.media.length):(this.media.splice(e,1),t=e),this.env.loading===!1&&this._promote("scheduleModified",this.getItemCount()),t)},this._prepareMedia=function(e){var t={},i={},s=e.errorCode||7,n=[];result={};var a=[];for(var o in $p.mmap){if($p.mmap[o].platform&&"FLASH"==$p.mmap[o].platform.toUpperCase()){if(!this.getFlashVersion()>0)continue;if(0==this.getConfig("enableFlashFallback"))continue}if($p.mmap[o].platform&&"NATIVE"==$p.mmap[o].platform.toUpperCase()){if(!this.getCanPlayNatively($p.mmap[o].type))continue;if(0==this.getConfig("enableNativePlayback"))continue;if(e.config&&"rtmp"==e.config.flashStreamType)continue}$p.mmap[o].level=this.config._platformPriority.indexOf($p.mmap[o].platform),$p.mmap[o].level=$p.mmap[o].level<0?100:$p.mmap[o].level,a.push("."+$p.mmap[o].ext),t[$p.mmap[o].ext]||(t[$p.mmap[o].ext]=new Array),t[$p.mmap[o].ext].push($p.mmap[o]),i[$p.mmap[o].type]||(i[$p.mmap[o].type]=new Array),i[$p.mmap[o].type].push($p.mmap[o])}a="^.*.("+a.join("|")+")$","string"==typeof e.file&&(e.file=[{src:e.file}],"string"==typeof e.type&&(e.file=[{src:e.file,type:e.type}])),e.file===!1&&(e.file=[{src:""}]);for(var r in e.file)if("config"!=r&&("string"==typeof e.file[r]&&(e.file[r]={src:e.file[r]}),void 0!=e.file[r].src)){try{e.file[r].ext=e.file[r].src.match(new RegExp(a))[1],e.file[r].ext=e.file[r].ext?e.file[r].ext.replace(".",""):"NaN"}catch(l){e.file[r].ext="NaN"}if(void 0!==e.file[r].type&&""!==e.file[r].type){try{var d=e.file[r].type.split(" ").join("").split(/[\;]codecs=.([a-zA-Z0-9\,]*)[\'|\"]/i);void 0!==d[1]&&(e.file[r].codec=d[1],e.file[r].type=d[0])}catch(l){}i[e.file[r].type]&&(n=$.merge(n,i[e.file[r].type]))}else t[e.file[r].ext]&&(n=$.merge(n,t[e.file[r].ext]))}0==n.length?n=i["none/none"]:n.sort(function(e,t){return e.level-t.level});for(var r in e.file)if(e.file[r].type==n[0].type||"none/none"==n[0].type){result={setup:e.file,ID:this.randomId(8),type:e.file[r].type,ext:e.file[r].ext,file:"rtmp"!=e.config.flashStreamType?this.toAbsoluteURL(e.file[r].src):e.file[r].src,mediaModel:n[0].model||"NA",errorCode:s,config:e.config||{}};break}return result},this._modelUpdateListener=function(e,t){var i=this;if(this.playerModel.init)switch("time"!=e&&"progress"!=e&&this._debug("Received model Update: '"+e+"' ("+t+") while handling '"+this.playerModel.getFile()+"' using '"+this.playerModel.getModelName()+"'"),e){case"state":switch(this._promote("state",t),t){case"IDLE":case"AWAKENING":case"BUFFERING":case"PLAYING":break;case"ERROR":this._promote("error",{});break;case"STOPPED":this._promote("stopped",{});break;case"PAUSED":this.getConfig("disablePause")===!0&&this.playerModel.applyCommand("play",0);break;case"COMPLETED":this._currentItem+1>=this.media.length&&(this.getInFullscreen()===!0&&this.setFullscreen(!1),this._promote("done",{})),this.setActiveItem("next")}break;case"buffer":this._promote("buffer",t);break;case"modelReady":this._promote("item",i._currentItem);break;case"displayReady":this._promote("displayReady",!0),this._addGUIListeners(),this._syncPlugins();break;case"FFreinit":break;case"seek":this._promote("seek",{dest:t});break;case"volume":this.setConfig({volume:t}),this._promote("volume",t),0>=t?(this.env.muted=!0,this._promote("mute",t)):1==this.env.muted&&(this.env.muted=!1,this._promote("unmute",t));break;case"resume":case"progress":case"time":case"fullscreen":case"resize":case"start":this._promote(e,t);break;case"playlist":this.setFile(t,!0);break;case"config":this.setConfig(t);break;case"scaled":if(this.env.autoSize===!0){this.env.playerDom.css({height:t.realHeight+"px",width:t.realWidth+"px"}),this._promote("resize",t),this.env.autoSize=!1;break}this._promote("scaled",t)}},this._syncPlugins=function(e){var t=this;this.env.loading=!0,function(){try{if(t._plugins.length>0)for(var i=0;i<t._plugins.length;i++)if(t._plugins[i].pluginReady!==!0)return void setTimeout(arguments.callee,50);t.env.loading=!1,t._promote("pluginsReady",{}),t._isReady===!0&&t._promote("ready",t.getItemIdx());try{e()}catch(s){}}catch(s){}}()},this._MD=function(e){projekktor("#"+e.currentTarget.id.replace("_media",""))._displayMousedownListener(e)},this._addGUIListeners=function(){var e=this;this._removeGUIListeners(),this.getDC().get(0).addEventListener?this.getDC().get(0).addEventListener("mousedown",this._MD,!0):this.getDC().mousedown(function(t){e._displayMousedownListener(t)}),this.getDC().mousemove(function(t){e._displayMousemoveListener(t)}).mouseenter(function(t){e._displayMouseEnterListener(t)}).mouseleave(function(t){e._displayMouseLeaveListener(t)}),$(window).bind("resize.projekktor"+this.getId(),function(){e.playerModel.applyCommand("resize")}),this.config.enableKeyboard===!0&&($.browser.mozilla?($(document.documentElement).unbind("keypress.pp"+this._id),$(document.documentElement).bind("keypress.pp"+this._id,function(t){e._keyListener(t)})):($(document.documentElement).unbind("keydown.pp"+this._id),$(document.documentElement).bind("keydown.pp"+this._id,function(t){e._keyListener(t)})))},this._removeGUIListeners=function(){$("#"+this.getId()).unbind(),this.getDC().unbind(),this.getDC().get(0).removeEventListener?this.getDC().get(0).removeEventListener("mousedown",this._MD,!0):this.getDC().get(0).detachEvent("onmousedown",this._MD),$(window).unbind("resize.projekktor"+this.getId())},this._registerPlugins=function(){var plugins=$.merge($.merge([],this.config._plugins),this.config._addplugins);if(!(this._plugins.length>0)&&0!=plugins)for(var i=0;i<plugins.length;i++){var pluginName="projekktor"+plugins[i];try{typeof eval(pluginName)}catch(e){continue}var pluginObj=$.extend(!0,{},new projekktorPluginInterface,eval(pluginName).prototype);pluginObj.name=plugins[i].toLowerCase(),pluginObj.pp=this,pluginObj.playerDom=this.env.playerDom,pluginObj._init(this.config["plugin_"+plugins[i].toLowerCase()]||{}),this._plugins.push(pluginObj)}},this.removePlugin=function(e){if(0!=this._plugins.length)for(var t=e||$.merge($.merge([],this.config._plugins),this.config._addplugins),i=this._plugins.length,s=0;s<t.length;s++)for(var n=0;i>n;n++)void 0!=this._plugins[n]&&this._plugins[n].name==t[s].toLowerCase()&&(this._plugins[n].deconstruct(),this._plugins.splice(n,1))},this._promote=function(e,t){var i=e;if("object"==typeof i){if(!i._plugin)return;t.PLUGIN=i._plugin+"",t.EVENT=i._event+"",i="pluginevent"}if("time"!=i&&"progress"!=i&&"mousemove"!=i&&this._debug("Fireing :"+i),this._plugins.length>0)for(var s in this._plugins)try{this._plugins[s][i+"Handler"](t,this)}catch(n){}if(this.listeners.length>0)for(var s in this.listeners)try{(this.listeners[s].event==i||"*"==this.listeners[s].event)&&this.listeners[s].callback(t,this)}catch(n){}},this._detachplayerModel=function(){this._removeGUIListeners();try{this.playerModel.destroy()}catch(e){}this._promote("detach",{})},this._displayMousedownListener=function(e){if(this.env.mouseIsOver){switch(e.which){case 1:this._promote("leftclick",e);break;case 2:this._promote("middleclick",e);break;case 3:e.stopPropagation(),e.preventDefault(),$(document).bind("contextmenu",function(){return $(document).unbind("contextmenu"),!1}),this._promote("rightclick",e)}return!1}},this._displayMousemoveListener=function(e){"TEXTAREA|INPUT".indexOf(e.target.tagName.toUpperCase())>-1&&(this.env.mouseIsOver=!1),this._promote("mousemove",{}),e.stopPropagation()},this._displayMouseEnterListener=function(e){this._promote("mouseenter",{}),this.env.mouseIsOver=!0,e.stopPropagation()},this._displayMouseLeaveListener=function(e){this._promote("mouseleave",{}),this.env.mouseIsOver=!1,e.stopPropagation()},this._keyListener=function(e){if(this.env.mouseIsOver){switch(e.stopPropagation(),e.preventDefault(),this._debug("Keypress: "+e.keyCode),this._promote("key",e.keyCode),e.keyCode){case 27:this.setFullscreen(!1);break;case 13:this.setFullscreen(!0);break;case 39:this.setActiveItem("next");break;case 37:this.setActiveItem("previous");break;case 123:break;default:this.setPlayPause()}return!1}},this._enterFullViewport=function(){this.env.inFullscreen!==!0&&(this.env.scrollTop=$(window).scrollTop(),this.env.scrollLeft=$(window).scrollLeft(),this.env.playerStyle=this.getDC().attr("style"),this.env.bodyOverflow=$("body").css("overflow"),$(window).scrollTop(0).scrollLeft(0),$.browser.mozilla&&this.getUsesFlash()||$("body").css("overflow","hidden"),this.env.playerDom.css({position:"fixed",display:"block",top:0,left:0,width:"100%",height:"100%",zIndex:99997}),this.env.inFullscreen=!0)},this._exitFullViewport=function(){this.env.inFullscreen!==!1&&(this.getDC().attr("style",this.env.playerStyle),$("body").css("overflow",this.env.bodyOverflow),$(window).scrollTop(this.env.scrollTop),$(window).scrollLeft(this.env.scrollLef),(this.getDC().width()!=this.config._width||this.getDC().height()!=this.config._height)&&this.getDC().css({width:this.config._width+"px",height:this.config._height+"px"}),this._modelUpdateListener("resize"),this.env.inFullscreen=!1)},this._enterIframeFullViewport=function(){if(this.env.inFullscreen!==!0){var e=this.getIframeWindow(),t=this.getIframe();e&&t&&(this.env.scrollTop=e.scrollTop(),this.env.scrollLeft=e.scrollLeft(),this.env.playerStyle=t.attr("style"),this.env.iframeWidth=t.attr("width"),this.env.iframeHeight=t.attr("height"),this.env.bodyOverflow=$(e[0].document.body).css("overflow"),e.scrollTop(0),e.scrollLeft(0),$(e[0].document.body).css("overflow","hidden"),t.css({position:"fixed",display:"block",top:0,left:0,width:"100%",height:"100%",zIndex:9999}),this.env.inFullscreen=!0)}},this._exitIframeFullViewport=function(){if(this.env.inFullscreen!==!1){var e=this.getIframeWindow(),t=this.getIframe();e&&t&&(e.scrollTop(this.env.scrollTop),e.scrollLeft(this.env.scrollLef),$(e[0].document.body).css("overflow",this.env.bodyOverflow),t.attr("width",this.env.iframeWidth+"px"),t.attr("height",this.env.iframeHeight+"px"),t.attr("style",void 0==this.env.playerStyle?"":this.env.playerStyle),this.env.inFullscreen=!1)}},this.getItemConfig=function(e,t){return this.getConfig(e,t)},this.getConfig=function(e,t){var i=t||this._currentItem,s=void 0,n=this.config["_"+e]?this.config["_"+e]:this.config[e];if(void 0!==n){if(s=n,$.inArray(e,this._persCfg)>-1&&null!==this._cookie(e)&&(s=this._cookie(e)),void 0==this.config["_"+e])try{void 0!==this.media[i].config[e]&&(s=this.media[i].config[e])}catch(a){}}else if(e.indexOf("plugin_")>-1)try{this.media[i].config[e]&&(s=this.media[i].config[e])}catch(a){}return s},this.getItemCount=function(){return this.media.length},this.getDC=function(){return this.env.playerDom},this.getState=function(e){var t=null;try{t=this.playerModel.getState()}catch(i){t="IDLE"}return null!=e?t==e.toUpperCase():t},this.getLoadProgress=function(){try{return this.playerModel.getLoadProgress()}catch(e){return 0}},this.getKbPerSec=function(){try{return this.playerModel.getKbPerSec()}catch(e){return 0}},this.getItemId=function(e){return void 0==e?this.media[this._currentItem].ID:this.media[e].ID},this.getItemIdx=function(){return this._currentItem},this.getItem=function(){switch(arg=arguments[0]||"current"){case"next":return $.extend(!0,[],this.media[this._currentItem+1]);case"prev":return $.extend(!0,[],this.media[this._currentItem-1]);case"current":return $.extend(!0,[],this.media[this._currentItem]);case"*":return $.extend(!0,[],this.media);default:return $.extend(!0,[],this.media[arg])}},this.getVolume=function(){return this.getConfig("fixedVolume")===!0?this.config.volume:this.getConfig("volume")},this.getTrackId=function(){return this.getConfig("trackId")?this.config.trackId:null!=this._playlistServer?"pl"+this._currentItem:null},this.getLoadPlaybackProgress=function(){try{return this.playerModel.getLoadPlaybackProgress()}catch(e){return 0}},this.getDuration=function(){try{return this.playerModel.getDuration()}catch(e){return 0}},this.getPosition=function(){try{return this.playerModel.getPosition()||0}catch(e){return 0}},this.getTimeLeft=function(){try{return this.playerModel.getDuration()-this.playerModel.getPosition()}catch(e){return this.media[this._currentItem].duration}},this.getInFullscreen=function(){return this.env.inFullscreen},this.getMediaContainer=function(){return null==this.env.mediaContainer&&(this.env.mediaContainer=$("#"+this.getMediaId())),0==this.env.mediaContainer.length&&(this.env.mediaContainer=this.env.playerDom.find("."+this.config._cssClassPrefix+"display").length>0?$(document.createElement("div")).attr({id:this.getId()+"_media"}).css({overflow:"hidden",height:"100%",width:"100%",top:0,left:0,padding:0,margin:0,display:"block"}).appendTo(this.env.playerDom.find("."+this.config._cssClassPrefix+"display")):$(document.createElement("div")).attr({id:this.getMediaId()}).css({width:"1px",height:"1px"}).appendTo($(document.body))),this.env.mediaContainer},this.getMediaId=function(){return this.getId()+"_media"},this.getMediaType=function(){return this.media[this._currentItem].type},this.getUsesFlash=function(){return this.playerModel.requiresFlash!==!1},this.getModel=function(){try{return this.media[this._currentItem].mediaModel}catch(e){return"NA"}},this.getIframeWindow=function(){try{return $(parent.window)}catch(e){return!1}},this.getIframe=function(){try{return window.$(frameElement)}catch(e){return!1}},this.getPlaylist=function(){return this.getItem("*")},this.getFlashVersion=function(){try{try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{e.AllowScriptAccess="always"}catch(t){return"6,0,0"}}catch(t){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1].match(/\d+/g)[0]}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].match(/\d+/g)[0]}catch(t){}}return"0,0,0".match(/\d+/g)[0]},this.getCanPlayNatively=function(e){var t=[];switch(0==this._compTableCache&&(this._compTableCache=this._testMediaSupport()),typeof e){case"undefined":if(this._compTableCache.media.length>0)return!0;case"string":t.push(e);break;case"array":t=e}for(var i in t)if($.inArray(t[i],this._compTableCache.all)>-1)return!0;return!1},this.getNativeFullscreenSupport=function(){return"function"!=typeof this.video.webkitEnterFullScreen||navigator.userAgent.match("Chrome")||navigator.userAgent.match("Mac OS X 10.5")?!1:!0},this.getId=function(){return this._id},this.getHasGUI=function(){try{return this.playerModel.getHasGUI()}catch(e){return!1}},this.getCssPrefix=function(){return this.config._cssClassPrefix},this.getPlayerDimensions=function(){return{width:this.config._width,height:this.config._height}},this.getMediaDimensions=function(){return{width:this.config._width,height:this.config._height}},this.getFromUrl=function(e,t,i,s,n){var a=null,o=this;if(t==o&&"_reelUpdate"==i&&this._promote("scheduleLoading",1+this.getItemCount()),"_"!=i.substr(0,1)?window[i]=function(e){try{delete window[i]}catch(s){}t[i](e)}:this["_jsonp"+i]=function(e){t[i](e)},n){if(void 0==$.parseJSON&&n.indexOf("json")>-1)return this._raiseError("Projekktor requires jQuery 1.4.2 in order to handle JSON playlists."),this;n=n.indexOf("/")>-1?n.split("/")[1]:n}return $.ajax({url:e,complete:function(e,o){if(void 0==n)try{e.getResponseHeader("Content-Type").indexOf("xml")>-1&&(n="xml"),e.getResponseHeader("Content-Type").indexOf("json")>-1&&(n="json"),e.getResponseHeader("Content-Type").indexOf("html")>-1&&(n="html")}catch(r){}switch(n){case"html":case"xml":window.DOMParser?(a=new DOMParser,a=a.parseFromString(e.responseText,"text/xml")):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(e.responseText));break;case"json":a=e.responseText,"string"==typeof a&&(a=$.parseJSON(a));break;case"jsonp":break;default:a=e.responseText}try{a=s(a,e.responseText)}catch(r){}"error"!=o&&"jsonp"!=n&&t[i](a)},error:function(){"jsonp"!=n&&t[i](!1)},cache:!0,dataType:n,jsonpCallback:"_"!=i.substr(0,1)?!1:"projekktor('"+this.getId()+"')._jsonp"+i,jsonp:"_"!=i.substr(0,1)?!1:"callback"}),this},this.setActiveItem=function(e){var t=0,i=this._currentItem;if(this.env.loading===!0)return this;if("string"==typeof e)switch(e){case"previous":if(1==this.getConfig("disallowSkip")&&!this.getState("COMPLETED"))return this;t=this._currentItem-1;break;case"next":if(1==this.getConfig("disallowSkip")&&!this.getState("COMPLETED"))return this;t=this._currentItem+1;break;default:case"poster":result=0}else t="number"==typeof e?parseInt(e):0;if(t!=this._currentItem&&1==this.getConfig("disallowSkip")&&!this.getState("COMPLETED"))return this;this._detachplayerModel();var s=!1;0===t&&0==i&&(this.config._autoplay===!0||this.getState().indexOf("IDLE|STOPPED")>-1)?s=!0:this.getItemCount()>1&&t!=i&&this.config._continuous===!0&&t<this.getItemCount()&&(s=!0),(t>=this.getItemCount()||0>t)&&(s=this.config._loop,t=0),this._currentItem=t,this.getDC().attr("class",this.env.className);var n=this.media[this._currentItem].mediaModel.toUpperCase();return $p.models[n]?this.getConfig("className")!==!1&&this.getDC().addClass(this.getConfig("className")):(n="NA",this.media[this._currentItem].mediaModel=n,this.media[this._currentItem].errorCode=8),this.playerModel=new playerModel,$.extend(this.playerModel,$p.models[n].prototype),this.playerModel._init({media:$.extend(!0,{},this.media[this._currentItem]),model:n,pp:this,environment:$.extend(!0,{},this.env),autoplay:s}),this},this._enqueue=function(e,t,i){this._queue.push({command:e,params:t,delay:i}),this._processQueue()},this._clearqueue=function(){this._isReady===!0&&(this._queue=[])},this._processQueue=function(){var e=this,t=!1;this._processing!==!0&&this.env.loading!==!0&&(this._processing=!0,function(){t=!1;try{t=e.playerModel.getIsReady()}catch(i){}if(e.env.loading!==!0&&t){var s=e._queue.shift();return s?("string"==typeof s.command?s.delay>0?setTimeout(function(){e.playerModel.applyCommand(s.command,s.params)},s.delay):e.playerModel.applyCommand(s.command,s.params):s.command(e),void arguments.callee()):(e._processing=!1,void(e._isReady===!1&&(e._promote("ready",e.getItemIdx()),e._isReady=!0)))}setTimeout(arguments.callee,100)}())},this.getIsLastItem=function(){return this._currentItem==this.media.length-1&&this.config._loop!==!0},this.getIsFirstItem=function(){return 0==this._currentItem&&this.config._loop!==!0},this.getIsMobileClient=function(){for(var e=navigator.userAgent.toLowerCase(),t=["android","windows ce","blackberry","palm","mobile"],i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return!0;return!1},this.setPlay=function(){return this._enqueue("play",!1),this},this.setPause=function(){return this._enqueue("pause",!1),this},this.setStop=function(e){var t=this;return this._enqueue("stop",!1),e&&this._enqueue(function(){t._currentItem=0,t.setActiveItem(0)}),this},this.setPlayPause=function(){return this.getState("PLAYING")?this.setPause():this.setPlay(),this},this.setVolume=function(e,t){if(1==this.getConfig("fixedVolume"))return this;var i=this.getVolume();if("string"==typeof e){var s=e.substr(0,1);e=parseFloat(e.substr(1)),e=e>1?e/100:e,e="+"==s?this.getVolume()+e:"-"==s?this.getVolume()-e:this.getVolume()}if("number"!=typeof e)return this;if(e=e>1?1:e,e=0>e?0:e,e>i&&t){if(e-i>.03){for(var n=i;e>=n;n+=.03)this._enqueue("volume",n,t);return this._enqueue("volume",e,t),this}}else if(i>e&&t&&i-e>.03){for(var n=i;n>=e;n-=.03)this._enqueue("volume",n,t);return this._enqueue("volume",e,t),this}return this._enqueue("volume",e),this},this.setPlayhead=function(e){if(1==this.getConfig("disallowSkip"))return this;if("string"==typeof e){var t=e.substr(0,1);e=parseFloat(e.substr(1)),e="+"==t?this.getPosition()+e:"-"==t?this.getPosition()-e:this.getPosition()}return"number"==typeof e&&this._enqueue("seek",e),this},this.setPlayerPoster=function(e){var t=this;return this._enqueue(function(){t.setConfig({poster:e},0)}),this},this.setItemConfig=function(){var e=this,t=arguments;return this._enqueue(function(){e._setConfig(t[0]||null,t[1]||null)}),this},this.setConfig=function(){var e=this,t=arguments;return this._enqueue(function(){e._setConfig(t[0]||null,t[1]||null)}),this},this._setConfig=function(){if(!arguments.length)return result;var e=arguments[0],t="*",i=!1;if("object"!=typeof e)return this;t="string"==arguments[1]||"number"==arguments[1]?arguments[1]:this._currentItem;for(var s in e)if($.inArray(s,this._persCfg)>-1&&this._cookie(s,this._cleanValue(e[s])),void 0==this.config["_"+s])if(i=this._cleanValue(e[s]),"*"!=t){if(void 0==this.media[t])return this;void 0==this.media[t].config&&(this.media[t].config={}),this.media[t].config[s]=i}else $.each(this.media,function(){void 0==this.config&&(this.config={}),this.config[s]=i});return this},this.setFullscreen=function(e){if(e=null==e?!this.getInFullscreen():e,e==this.getInFullscreen()||!this.config.enableFullscreen||this.getIsMobileClient())return this;switch(e){case!0:this.config._iframe===!0?this._enterIframeFullViewport():this._enterFullViewport();break;case!1:this.config._iframe===!0?this._exitIframeFullViewport():this._exitFullViewport()}return this.playerModel.applyCommand("fullscreen",e),this},this.setResize=function(){return this._modelUpdateListener("resize"),this},this.setSize=function(e){this.config._width=e.width||this.config._width,this.config._height=e.height||this.config._height,this.getInFullscreen()!==!0&&(this.getDC().css({width:e.width+"px",height:e.height+"px"}),this._modelUpdateListener("resize"))},this.addListener=function(e,t){var i=this;this._enqueue(function(){i._addListener(e,t)})},this._addListener=function(e,t){var i={event:e,callback:t};return this.listeners.push(i),this},this.removeListener=function(e,t){for(var i=this.listeners.length,s=0;i>s;s++)void 0!=this.listeners[s]&&(this.listeners[s].event==e||"*"===e)&&(this.listeners[s].callback==t||void 0===t)&&this.listeners.splice(s,1);return this},this.setItem=function(){var e=arguments[0],t=0;return this._clearqueue(),this.env.loading===!0?this:(null==e?(t=this._removeItem(arguments[1]),t===this._currentItem&&this.setActiveItem("previous")):(t=this._addItem(this._prepareMedia({file:e,config:e.config||{}}),arguments[1],arguments[2]),t===this._currentItem&&this.setActiveItem(this._currentItem)),this)},this.setFile=function(e,t,i){var s=e||{},n={},a=t||!1;if(this._clearqueue(),this.env.loading===!0)return this;if("object"==typeof s&&0==s.length)return!1;if(this.env.loading=!0,this._detachplayerModel(),"object"==typeof s)return 0==s.length?(this._reelUpdate({}),!1):(this._debug("Applying incoming JS Object",s),this._reelUpdate(s),this);if("string"==typeof s){var o=[];o[0]=s,s.indexOf(this.config._FilePosterSeparator)>-1?(o=s.split(this.config._FilePosterSeparator),s.config={poster:o[1]}):(n[0]={},n[0].file=s),a===!1?(this._debug("Applying incoming single file:"+n[0].file,s),this._reelUpdate(n)):(this._debug("Loading external data from "+o[0]+" supposed to be "+i),this._playlistServer=o[0],this.getFromUrl(o[0],this,"_reelUpdate",this.config._reelParser,i))}return this},this.openUrl=function(e){return e=e||{url:"",target:"",pause:!1},window.open(e.url,e.target).focus(),e.pause===!0&&this.setPause(),this},this.selfDestruct=function(){var e=this;return this._enqueue(function(){e._selfDestruct()}),this},this._selfDestruct=function(){var e=this;return $(this).unbind(),this.removePlugin(),this._removeGUIListeners(),this.env.playerDom.replaceWith($(this.env.srcNode).clone()),$.each(projekktors,function(t){try{if(this.getId()==e.getId()||this.getId()==e.getId()||this.getParent()==e.getId())return void projekktors.splice(t,1)}catch(i){}}),this},this.reset=function(){var e=this;return this._clearqueue(),this._enqueue(function(){e._reset()}),this},this._reset=function(){var e={},t=this;$(this).unbind(),this.setFullscreen(!1),this.removePlugin(),this._removeGUIListeners(),this.env.mediaContainer=null;
for(var i in this.config)e["_"==i.substr(0,1)?i.substr(1):i]=this.config[i];return"function"==typeof this.env.onReady&&this._enqueue(t.env.onReady(t)),this._init(this.env.playerDom,e),this},this._cookie=function(e,t){if(void 0===document.cookie)return null;if(document.cookie===!1)return null;var i={};if(arguments.length>1&&(null===t||"object"!=typeof t)){var s=new Date;return s.setDate(s.getDate()+this.config._cookieExpiry),document.cookie=encodeURIComponent(this.config._cookieName+"_"+e)+"="+encodeURIComponent(String(t))+"; expires="+s.toUTCString()+"; path=/"}i=t||{};var n,a=i.raw?function(e){return e}:decodeURIComponent,o=(n=new RegExp("(?:^|; )"+encodeURIComponent(this.config._cookieName+"_"+e)+"=([^;]*)").exec(document.cookie))?a(n[1]):null;return null!=o?this._cleanValue(o):null},this.embeddFlash=function(e,t){var i=t.FlashVars||{},s="",n="",a="",o="",r="";t.src+="?";for(var l in i)if("function"!=typeof i[l]){o=i[l];for(var d in this.media)"string"==typeof o&&(o=o.replace("{"+d+"}",this.media[d]));t.src+=l+"="+encodeURIComponent(o)+"&"}t.src.replace(/&$/,""),$.browser.msie&&(r=' id="'+t.id+'" '),n="<object"+r+' codebase="https://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0"  name="'+t.name+'" width="'+t.width+'" height="'+t.height+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">',n+='<param name="movie" value="'+t.src+'"></param>',n+='<param name="allowScriptAccess" value="'+t.allowScriptAccess+'"></param>',n+='<param name="allowFullScreen" value="'+t.allowFullScreen+'"></param>',n+='<param name="wmode" value="'+t.wmode+'"></param>',a="<embed ";for(var l in t)"FLASHVARS"!==l.toUpperCase()&&"function"!=typeof t[l]&&(a+=l+'="'+t[l]+'" ');return a+=' pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash"></embed>',s=n+a,s+="</object>",$.browser.mozilla&&(s=a),null===e?s:(e[0].innerHTML=s,$("#"+t.id)[0])},this._testMediaSupport=function(){for(var e="",t={all:[],media:[]},i=0;i<$p.mmap.length;i++)if(!($.inArray($p.mmap[i].type,t.all)>-1))if("all|internal".indexOf($p.mmap[i].platform)>-1)t.all.push($p.mmap[i].type);else if($p.mmap[i].fixed!==!0&&($p.mmap[i].type.indexOf("video")>-1||$p.mmap[i].type.indexOf("audio")>-1))try{e=$p.mmap[i].type.indexOf("video")>-1?"video":"audio";var s=document.createElement(e);if(0!=s.canPlayType)switch(s.canPlayType($p.mmap[i].type)){case"no":case"":break;case"maybe":if($.browser.opera&&$.browser.version.slice(0,2)<11)break;case"probably":default:t.all.push($p.mmap[i].type),t.media.push($p.mmap[i].type)}}catch(n){}return t},this.randomId=function(e){for(var t="abcdefghiklmnopqrstuvwxyz",i="",s=0;e>s;s++){var n=Math.floor(Math.random()*t.length);i+=t.substring(n,n+1)}return i},this.toAbsoluteURL=function(e){var t,i,s,n,a=location;if(null==e||""==e)return"";if(/^\w+:/.test(e))return e;if(t=a.protocol+"//"+a.host,0==e.indexOf("/"))return t+e;if(i=a.pathname.replace(/\/[^\/]*$/,""),s=e.match(/\.\.\//g))for(e=e.substring(3*s.length),n=s.length;n--;)i=i.substring(0,i.lastIndexOf("/"));return t+i+"/"+e},this.parseTemplate=function(e,t){if(void 0===t||0==t.length||"object"!=typeof t)return e;for(var i in t)e=e.replace(new RegExp("%{"+i+"}","gi"),t[i]);return e=e.replace(/%{(.*?)}/gi,"")},this._cleanValue=function(e){switch(e){case"false":return!1;case"true":return!0;case"null":return null;case"undefined":return"";case void 0:return!1;default:return"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e?!1:e}},this._getTypeFromFileExtension=function(e){var t="",i=[],s={},i=[];for(var n in $p.mmap)i.push("."+$p.mmap[n].ext),s[$p.mmap[n].ext]=$p.mmap[n];i="^.*.("+i.join("|")+")";try{t=e.match(new RegExp(i))[1],t=t?t.replace(".",""):"NaN"}catch(a){t="NaN"}return s[t].type},this._debug=function(e,t){if(this.config._debug!==!1)if("console"!=this.config._debug){var i="<pre><b>"+e+"</b>\n";if(t&&this.config.debugLevel>1){switch(typeof t){case"undefined":break;case"object":var s="";if(""==s){s="";for(var n in t)s+=n+" : "+t[n]+"\n"}i+=s;break;case"string":i+=t}i+="</pre>"}try{$("#"+this.config._debug).prepend(i)}catch(a){}}else try{e&&console.log(e),t&&console.log(t)}catch(a){}},this._raiseError=function(e){this.env.playerDom.html(e).css({color:"#fdfdfd",backgroundColor:"#333",lineHeight:this.config.height+"px",textAlign:"center",display:"block"}),this._promote("error")},this._readMediaTag=function(e){var t={},i="",s=[],n=this;if("VIDEO"!=e[0].tagName.toUpperCase()&&"AUDIO"!=e[0].tagName.toUpperCase())return!1;if(t={autoplay:void 0!==e.prop("autoplay")&&e.prop("autoplay")!==!1?!0:!1,controls:void 0!==e.prop("controls")&&e.prop("controls")!==!1?!0:!1,loop:void 0!==e.prop("loop")&&e.prop("loop")!==!1?!0:!1,title:void 0!==e.attr("title")&&e.attr("title")!==!1?e.attr("title"):"",poster:void 0!==e.attr("poster")&&e.attr("poster")!==!1?e.attr("poster"):"",width:void 0!==e.attr("width")&&e.attr("width")!==!1?e.attr("width"):!1,height:void 0!==e.attr("height")&&e.attr("height")!==!1?e.attr("height"):!1},$.browser.msie){i=$($("<div></div>").html($(e).clone())).html(),s=["autoplay","controls","loop"];for(var a=0;a<s.length;a++)-1!=i.indexOf(s[a])&&(t[s[a]]=!0)}if(e.prop("autoplay",!1),t.playlist=[],t.playlist[0]=[],srcNode.attr("src")&&t.playlist[0].push({src:srcNode.attr("src"),type:srcNode.attr("type")||this._getTypeFromFileExtension(srcNode.attr("src"))}),$.browser.msie&&$.browser.version<9){var o=srcNode;do o=o.next("source"),o.attr("src")&&t.playlist[0].push({src:o.attr("src"),type:o.attr("type")||this._getTypeFromFileExtension(o.attr("src"))});while(o.attr("src"))}else srcNode.children("source").each(function(){$(this).attr("src")&&t.playlist[0].push({src:$(this).attr("src"),type:$(this).attr("type")||n._getTypeFromFileExtension($(this).attr("src"))})});try{e[0].pause(),e.find("source").remove(),e.prop("src",""),e[0].load()}catch(r){}return t},this._applyDimensions=function(){this.config._height!==!1&&this.config._width!==!1&&(this.config._width<=this.config._minWidth&&(this.config._width=this.config._minWidth,this.env.autoSize=!0),this.config._height<=this.config._minHeight&&(this.config._height=this.config._minHeight,this.env.autoSize=!0)),this.env.playerDom.css({overflow:"hidden",width:this.config._width+"px",height:this.config._height+"px","max-width":"100%"})},this._init=function(e,t){var i=e||srcNode,s=t||cfg,n=this._readMediaTag(i);this.env.srcNode=$.extend(!0,{},i),this.env.className=i.attr("class"),n!==!1?(this.env.playerDom=$(document.createElement("div")).attr({"class":i[0].className,style:i.attr("style")}),i.replaceWith(this.env.playerDom)):(n={width:i.attr("width")?i.attr("width"):i.width(),height:i.attr("height")?i.attr("height"):i.height()},this.env.playerDom=i),s=$.extend(!0,{},n,s);for(var a in s)void 0!=this.config["_"+a]?this.config["_"+a]=s[a]:this.config[a]=s[a];if(this.getIsMobileClient()&&(this.config._autoplay=!1),this._id=i[0].id||this.randomId(8),this.env.playerDom.attr("id",this._id),this.config._theme)switch(typeof this.config._theme){case"string":break;case"object":this._applyTheme(this.config._theme)}else this._start(!1);return this},this._start=function(){var e=this;this._applyDimensions();try{$("#projekktorver").html("V"+this.config._version)}catch(t){}this._registerPlugins(),this.config._iframe===!0&&(this.getIframeWindow()?this.getIframeWindow().ready(function(){e._enterFullViewport(),e.env.inFullscreen=!1}):(e._enterFullViewport(),e.env.inFullscreen=!1,this.config.disableFullscreen=!0)),"function"==typeof onReady&&this._enqueue(function(){onReady(e)});for(var i in this.config._playlist[0])if(this.config._playlist[0][i].type&&(this.config._playlist[0][i].type.indexOf("/json")>-1||this.config._playlist[0][i].type.indexOf("/xml")>-1))return this.setFile(this.config._playlist[0][i].src,!0,this.config._playlist[0][i].type),this;return this.setFile(this.config._playlist),this},this._applyTheme=function(data){var ref=this;if(data===!1)return this._raiseError("The Projekktor theme-set specified could not be loaded."),!1;if("object"==typeof data.config.plugins)for(var i=0;i<data.config.plugins.length;i++)try{typeof eval("projekktor"+data.config.plugins[i])}catch(e){return this._raiseError("The applied theme requires the following Projekktor plugin(s): <b>"+data.config.plugins.join(", ")+"</b>"),!1}if("string"==typeof data.css&&$("head").append('<style type="text/css">'+this.parseTemplate(data.css,{rp:data.baseURL})+"</style>"),"string"==typeof data.html&&this.env.playerDom.html(this.parseTemplate(data.html,{p:this.config._cssClassPrefix})),this.env.playerDom.addClass(data.id).addClass(data.variation),"object"==typeof data.config)for(var i in data.config)void 0!=this.config["_"+i]?this.config["_"+i]=data.config[i]:this.config[i]=data.config[i];return data.onReady&&this._enqueue(function(player){eval(data.onReady)}),this._start()},this._init()}var arg=arguments[0],instances=[];if(!arguments.length)return projekktors[0]||null;if("number"==typeof arg)return projekktors[arg];if("string"==typeof arg){if("*"==arg)return new Iterator(projekktors);for(var i=0;i<projekktors.length;i++){try{if(projekktors[i].getId()==arg.id){instances.push(projekktors[i]);continue}}catch(e){}try{for(var j=0;j<$(arg).length;j++)projekktors[i].env.playerDom.get(0)!=$(arg).get(j)||instances.push(projekktors[i])}catch(e){}try{if(projekktors[i].getParent()==arg){instances.push(projekktors[i]);continue}}catch(e){}try{if(projekktors[i].getId()==arg){instances.push(projekktors[i]);continue}}catch(e){}}if(instances.length>0)return 1==instances.length?instances[0]:new Iterator(instances)}if(0==instances.length){var cfg=arguments[1]||{},callback=arguments[2]||{};if("string"==typeof arg){var count=0,playerA;return $.each($(arg),function(){playerA=new PPlayer($(this),cfg,callback),projekktors.push(playerA),count++}),count>1?new Iterator(projekktors):playerA}if(arg)return projekktors.push(new PPlayer(arg,cfg,callback)),new Iterator(projekktors)}return null},$p.mmap=[],$p.models={},$p.newModel=function(e,t){var i=!1,s=$p.models[t]&&void 0!=t?$p.models[t].prototype:{};if("object"!=typeof e)return i;if(!e.modelId)return i;if($p.models[e.modelId])return i;$p.models[e.modelId]=function(){},$p.models[e.modelId].prototype=$.extend({},s,e);for(var n=0;n<e.iLove.length;n++)e.iLove[n].model=e.modelId.toLowerCase(),$p.mmap.push(e.iLove[n]);return!0}});var projekktorConfig=function(e){this._version=e},projekktorPluginInterface=function(){};jQuery(function(e){projekktorPluginInterface.prototype={pluginReady:!1,name:"",pp:{},config:{},playerDom:null,canvas:{media:null,projekktor:null},_appliedDOMObj:[],_init:function(t){this.config=e.extend(!0,this.config,t),this.initialize()},getConfig:function(e,t){var i=null;return null!=this.pp.getConfig("plugin_"+this.name)&&(i=this.pp.getConfig("plugin_"+this.name)[e]),null==i&&(i=this.pp.getConfig(e)),null==i&&(i=this.config[e]||t),i},sendEvent:function(e,t){this.pp._promote({_plugin:this.name,_event:e},t)},deconstruct:function(){this.pluginReady=!1,e.each(this._appliedDOMObj,function(){e(this).remove()})},parseTemplate:function(e,t){return this.pp.parseTemplate(e,t)},blockSelection:function(t){t&&(e.browser.mozilla?t.css("MozUserSelect","none"):e.browser.msie?t.bind("selectstart",function(){return!1}):t.mousedown(function(){return!1}))},applyToPlayer:function(e,t){var i=this.getConfig("cssClassPrefix");if(!e)return null;if(0==this.playerDom.find("."+i+e.attr("class")).length){var s=e.attr("class");return e.removeClass(s),e.addClass(i+s),t===!0?e.prependTo(this.playerDom):e.appendTo(this.playerDom),this._appliedDOMObj.push(e),e}var s=e.attr("class");return e=this.playerDom.find("."+i+e.attr("class")),e.removeClass(s),e.addClass(i+s),e},initialize:function(){}}});var playerModel=function(){};jQuery(function(e){playerModel.prototype={modelId:"player",iLove:[],_currentState:null,_currentBufferState:null,_volume:0,_KbPerSec:0,_bandWidthTimer:null,_isPoster:!1,modelReady:!0,requiresFlash:!1,hasGUI:!1,allowRandomSeek:!1,flashVerifyMethod:"api_get",elementReady:!1,mediaElement:null,pp:{},media:{duration:0,position:0,startOffset:0,file:!1,poster:"",ended:!1,message:"",error:null,loadProgress:0,errorCode:0,message:"",type:"NA"},_init:function(e){this.pp=e.pp||null,this.media=e.media||this.media,this._ap=e.autoplay,this._volume=this.pp.getVolume("volume"),this.init()},init:function(){this.ready()},ready:function(){this.sendUpdate("modelReady"),this.displayItem(this._ap)},displayItem:function(e){if(e!==!0||this.getState("STOPPED"))this._setState("idle"),this.applyImage(this.getPoster(),this.pp.getMediaContainer().html("")),this._isPoster=!0,this.elementReady=!0;else{if(this.hasGUI&&this.pp.env.playerDom.children().not(".ppdisplay").addClass("inactive").removeClass("active"),this.requiresFlash!==!1&&this.requiresFlash>this.pp.getFlashVersion())return void this.setTestcard(6);this._setState("awakening"),this.elementReady=!1,this._isPoster=!1,this.applyMedia(this.pp.getMediaContainer().html("").show())}this.waitTillReady(e)},applyMedia:function(){},sendUpdate:function(e,t){this.pp._modelUpdateListener(e,t)},waitTillReady:function(e){var t=this;!function(){try{if(t.elementReady!==!0)return void setTimeout(arguments.callee,70)}catch(i){}if(!t.getState("STOPPED")||e===!0)try{t.addListeners()}catch(i){}t.pp._modelUpdateListener("displayReady"),e===!0&&(t.pp.getIsMobileClient()&&setTimeout(function(){t.setPlay()},500),t.setPlay())}()},addListeners:function(){},removeListeners:function(){try{this.mediaElement.unbind()}catch(e){}},detachMedia:function(){},destroy:function(){this.setPause(),this.removeListeners(),this.detachMedia();try{e("#"+this.mediaElement.id).empty()}catch(t){}try{e("#"+this.mediaElement.id).remove()}catch(t){}try{this.mediaElement.remove()}catch(t){}this.pp.getMediaContainer().html(""),this.mediaElement=null,this.media.loadProgress=0,this.media.playProgress=0,this.media.position=0,this.media.duration=0,this._setState("stopped")},reInit:function(){this.requiresFlash!==!1&&e.browser.mozilla&&!this.getState("ERROR")&&this.pp.getConfig("bypassFlashFFFix")!==!0&&(this.sendUpdate("FFreinit"),this.removeListeners(),this.displayItem(!this.getState("IDLE")))},applyCommand:function(e,t){switch(e){case"play":if(this.getState("ERROR"))break;if(this.getState("IDLE")){this._setState("awakening"),this.displayItem(!0);break}this.setPlay();break;case"pause":if(this.getState("ERROR"))break;this.setPause();break;case"volume":if(this.getState("ERROR"))break;this.setVolume(t)||(this._volume=t,this.sendUpdate("volume",t));break;case"stop":this.setStop();break;case"seek":if(this.getState("ERROR"))break;if(-1==this.media.loadProgress)break;this.setSeek(t);break;case"fullscreen":this.sendUpdate("fullscreen",t),this.setFullscreen(t),this.reInit();break;case"resize":this.setResize(),this.sendUpdate("resize",t)}},setSeek:function(){},setPlay:function(){},setPause:function(){},setStop:function(){this.detachMedia(),this.destroy(),this.displayItem(!1)},setVolume:function(){},setFullscreen:function(){},setResize:function(){},getVolume:function(){return null==this.mediaElement?this._volume:1==this.mediaElement.prop("muted")?0:this.mediaElement.prop("volume")},getLoadProgress:function(){return this.media.loadProgress||0},getLoadPlaybackProgress:function(){return this.media.playProgress||0},getPosition:function(){return this.media.position||0},getDuration:function(){return this.media.duration||0},getInFullscreen:function(){return this.pp.getInFullscreen()},getKbPerSec:function(){return this._KbPerSec},getState:function(e){var t=null==this._currentState?"IDLE":this._currentState;return null!=e?t==e.toUpperCase():t},getFile:function(){return this.media.file||null},getModelName:function(){return this.modelId||null},getHasGUI:function(){return this.hasGUI&&!this._isPoster},getIsReady:function(){return this.elementReady},getPoster:function(){return this.pp.getConfig("poster")},timeListener:function(e){if(void 0!=e){var t=void 0!=e.position?e.position:e.currentTime,i=e.duration,s=t>0&&i>0?100*t/i:0;this.media.duration=this._roundNumber(i,2),this.media.position=this._roundNumber(t,2),this.media.playProgress=s,this.sendUpdate("time",this.media.position),this.loadProgressUpdate()}},loadProgressUpdate:function(){try{var e=this.mediaElement[0];if("object"!=typeof e.buffered)return;if(typeof e.buffered.length<=0)return;var t=Math.round(100*e.buffered.end(e.buffered.length-1))/100,i=100*t/this.media.duration;if(i==this.media.loadProgress)return;this.media.loadProgress=this.allowRandomSeek===!0?100:-1,this.media.loadProgress=this.media.loadProgress<100||void 0==this.media.loadProgress?i:100,this.sendUpdate("progress",this.media.loadProgress)}catch(s){}},progressListener:function(e,t){try{if("object"==typeof this.mediaElement[0].buffered&&this.mediaElement[0].buffered.length>0)return void this.mediaElement.unbind("progress")}catch(i){}null==this._bandWidthTimer&&(this._bandWidthTimer=(new Date).getTime());var s=0,n=0;isNaN(e.loaded/e.total)?e.originalEvent&&!isNaN(e.originalEvent.loaded/e.originalEvent.total)?(s=e.originalEvent.loaded,n=e.originalEvent.total):t&&!isNaN(t.loaded/t.total)&&(s=t.loaded,n=t.total):(s=e.loaded,n=e.total);var a=s>0&&n>0?100*s/n:0;Math.round(a)>Math.round(this.media.loadProgress)&&(this._KbPerSec=s/1024/(((new Date).getTime()-this._bandWidthTimer)/1e3)),a=100!==this.media.loadProgress?a:100,a=this.allowRandomSeek===!0?100:a,this.media.loadProgress!=a&&(this.media.loadProgress=a,this.sendUpdate("progress",a)),this.media.loadProgress>=100&&0==this.allowRandomSeek&&this._setBufferState("full")},endedListener:function(){null!==this.mediaElement&&this._setState("completed")},waitingListener:function(){this._setBufferState("empty")},canplayListener:function(){this._setBufferState("full")},canplaythroughListener:function(){this._setBufferState("full")},suspendListener:function(){this._setBufferState("full")},playingListener:function(){this._setState("playing")},startListener:function(){this.applyCommand("volume",this.pp.getConfig("volume")),this._setState("playing")},pauseListener:function(){this._setState("paused")},volumeListener:function(){this.sendUpdate("volume",this.getVolume())},flashReadyListener:function(){this.elementReady=!0},errorListener:function(e){try{switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:this.setTestcard(1);break;case e.target.error.MEDIA_ERR_NETWORK:this.setTestcard(2);break;case e.target.error.MEDIA_ERR_DECODE:this.setTestcard(3);break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:this.setTestcard(4);break;default:this.setTestcard(5)}}catch(t){}},metaDataListener:function(e){try{this.videoWidth=e.videoWidth,this.videoHeight=e.videoHeight}catch(t){}this._scaleVideo()},setTestcard:function(t,i){var s=this.pp.getMediaContainer(),n=this.pp.getConfig("messages"),a=void 0!=n[t]?n[t]:n[0];a=void 0!=i&&""!=i?i:a,this.pp.getItemCount()>1&&(a+=n[99]),a.length<3&&(a="ERROR"),100==t&&(a=""),a=this.pp.parseTemplate(a,e.extend({},this.media,{flashver:this.requiresFlash})),s.css({width:"100%",height:"100%"}).html(""),this.mediaElement=e(document.createElement("div")).addClass("pptestcard").attr("id",this.pp.getId()+"_testcard_media").appendTo(s),a.length>0&&e(document.createElement("p")).appendTo(this.mediaElement).html(a),this._setState("error")},applyImage:function(t,i){var s=e(document.createElement("img")).hide(),n=this;if(""==t||void 0==t)return s=e(document.createElement("span")).attr({id:this.pp.getMediaId()+"_image"}).appendTo(i);s.appendTo(i).attr({id:this.pp.getMediaId()+"_image",src:t}).css({position:"absolute"}),s.error(function(){e(this).remove()});var a=function(e){e.realWidth=e.prop("width"),e.realHeight=e.prop("height"),e.width=function(){return e.realWidth},e.height=function(){return e.realHeight}};e.browser.msie?!function(){try{if(1==s[0].complete)return s.show(),a(s),void n.stretch(n.pp.getConfig("imageScaling"),s,i.width(),i.height());setTimeout(arguments.callee,100)}catch(e){setTimeout(arguments.callee,100)}}():s.load(function(){e(this).show(),a(s),n.stretch(n.pp.getConfig("imageScaling"),e(this),i.width(),i.height())});var o=function(e,t){t.is(":visible")===!1&&n.pp.removeListener("fullscreen",arguments.callee),n.stretch(n.pp.getConfig("imageScaling"),e,t.width(),t.height())};return this.pp.addListener("fullscreen",function(){o(s,i)}),this.pp.addListener("resize",function(){o(s,i)}),s},stretch:function(e,t,i,s,n,a){if(void 0==t||null==t)return!1;void 0===t._originalDimensions&&(t._originalDimensions={},t._originalDimensions={width:t.width(),height:t.height()});var o=void 0!==n?n:t._originalDimensions.width,r=void 0!==a?a:t._originalDimensions.height,l=i/o,d=s/r,h=i,c=s;switch(e){case"fill":l>d?(h=o*l,c=r*l):d>l&&(h=o*d,c=r*d);break;case"aspectratio":default:l>d?(h=o*d,c=r*d):d>l&&(h=o*l,c=r*l)}return i=this._roundNumber(h/i*100,0),s=this._roundNumber(c/s*100,0),0==i||0==s?!1:(t.css({margin:0,padding:0,width:i+"%",height:s+"%",left:(100-i)/2+"%",top:(100-s)/2+"%"}),t._originalDimensions.width!=t.width()||t._originalDimensions.height!=t.height()?!0:!1)},createFlash:function(e,t){this.mediaElement=this.pp.embeddFlash(t,e),this._waitforPlayer()},_waitforPlayer:function(){if(1!=this.elementReady){var e=this;this._setBufferState("empty"),function(){try{void 0==e.mediaElement?setTimeout(arguments.callee,100):void 0==e.mediaElement[e.flashVerifyMethod]?setTimeout(arguments.callee,100):(e._setBufferState("full"),e.flashReadyListener())}catch(t){setTimeout(arguments.callee,100)}}()}},_roundNumber:function(e,t){return 0>=e||isNaN(e)?0:Math.round(e*Math.pow(10,t))/Math.pow(10,t)},_setState:function(e){e=e.toUpperCase(),this._currentState!=e&&("PAUSED"==this._currentState&&"PLAYING"==e&&this.sendUpdate("resume",this.media),"IDLE"!=this._currentState&&"AWAKENING"!=this._currentState||"PLAYING"!=e||this.sendUpdate("start",this.media),this._currentState=e.toUpperCase(),this.sendUpdate("state",this._currentState))},_setBufferState:function(e){this._currentBufferState!=e&&(this._currentBufferState=e.toUpperCase(),this.sendUpdate("buffer",this._currentBufferState))},_scaleVideo:function(){var e=this.pp.getMediaContainer();if(!this.pp.getIsMobileClient())try{var t=e.width(),i=e.height(),s=this.videoWidth,n=this.videoHeight;this.stretch(this.pp.getConfig("videoScaling"),this.mediaElement,t,i,s,n)&&this.sendUpdate("scaled",{realWidth:s,realHeight:n,displayWidth:t,displayHeight:i})}catch(a){}}}}),jQuery(function(){$p.newModel({modelId:"NA",iLove:[{ext:"NaN",type:"none/none",platform:"all"}],hasGUI:!0,applyMedia:function(){this.pp.getConfig("enableTestcard")&&!this.pp.getIsMobileClient()?(this.setTestcard(""!==this.media.file&&7===this.media.errorCode?5:this.media.errorCode),this.elementReady=!0):(this.elementReady=!0,this.applyCommand("stop"),window.location.href=this.media.file)},setPlay:function(){this.sendUpdate("start")},setPause:function(){0==this._hasEnded&&(this._hasEnded=!0,this.sendUpdate("ended"))}})}),jQuery(function(){$p.newModel({modelId:"PLAYLIST",iLove:[{ext:"json",type:"text/json",platform:"internal"},{ext:"jsonp",type:"text/jsonp",platform:"internal"},{ext:"xml",type:"text/xml",platform:"internal"},{ext:"json",type:"application/json",platform:"internal"},{ext:"jsonp",type:"application/jsonp",platform:"internal"},{ext:"xml",type:"application/xml",platform:"internal"}],applyMedia:function(){this.elementReady=!0},setPlay:function(){this.sendUpdate("playlist",this.media.file)}})}),jQuery(function(e){$p.newModel({modelId:"VIDEOFLASH",iLove:[{ext:"flv",type:"video/x-flv",platform:"flash",fixed:!0},{ext:"flv",type:"video/flv",platform:"flash",fixed:!0},{ext:"mp4",type:"video/mp4",platform:"flash",fixed:"maybe"},{ext:"mov",type:"video/quicktime",platform:"flash"},{ext:"m4v",type:"video/mp4",platform:"flash",fixed:"maybe"}],requiresFlash:9,allowRandomSeek:!1,flashVerifyMethod:"api_get",_jarisVolume:0,applyMedia:function(e){var t={id:this.pp.getMediaId()+"_flash",name:this.pp.getMediaId()+"_flash",src:this.pp.getConfig("playerFlashMP4"),width:"100%",height:"100%",allowScriptAccess:"always",allowFullScreen:"true",allowNetworking:"all",wmode:"transparent",bgcolor:"#000000",FlashVars:{source:this.media.file,type:"video",streamtype:this.pp.getConfig("flashStreamType"),server:"rtmp"==this.pp.getConfig("flashStreamType")?this.pp.getConfig("flashRTMPServer"):"",autostart:"false",hardwarescaling:"true",controls:"false",jsapi:"true"}};switch(this.pp.getConfig("flashStreamType")){case"rtmp":case"http":this.allowRandomSeek=!0,this.media.loadProgress=100}this.createFlash(t,e)},addListeners:function(){null!=this.mediaElement&&(this.mediaElement.api_addlistener("onprogress","projekktor('"+this.pp.getId()+"').playerModel.progressListener"),this.mediaElement.api_addlistener("ontimeupdate","projekktor('"+this.pp.getId()+"').playerModel.timeListener"),this.getModelName().indexOf("VIDEO")>-1&&this.mediaElement.api_addlistener("ondatainitialized","projekktor('"+this.pp.getId()+"').playerModel.metaDataListener"),this.getModelName().indexOf("AUDIO")>-1&&this.mediaElement.api_addlistener("onconnectionsuccess","projekktor('"+this.pp.getId()+"').playerModel.startListener"),this.mediaElement.api_addlistener("onplaypause","projekktor('"+this.pp.getId()+"').playerModel._playpauseListener"),this.mediaElement.api_addlistener("onplaybackfinished","projekktor('"+this.pp.getId()+"').playerModel.endedListener"),this.mediaElement.api_addlistener("onmute","projekktor('"+this.pp.getId()+"').playerModel.volumeListener"),this.mediaElement.api_addlistener("onvolumechange","projekktor('"+this.pp.getId()+"').playerModel.volumeListener"),this.mediaElement.api_addlistener("onbuffering","projekktor('"+this.pp.getId()+"').playerModel.waitingListener"),this.mediaElement.api_addlistener("onnotbuffering","projekktor('"+this.pp.getId()+"').playerModel.canplayListener"),this.mediaElement.api_addlistener("onconnectionfailed","projekktor('"+this.pp.getId()+"').playerModel.errorListener"))},removeListeners:function(){try{this.mediaElement.api_removelistener("*")}catch(e){}},_playpauseListener:function(e){e.isplaying?this.playingListener():this.pauseListener()},metaDataListener:function(e){this.startListener(e);try{this.videoWidth=e.width,this.videoHeight=e.height,this.sendUpdate("scaled",{width:this.videoWidth,height:this.videoHeight})}catch(t){}},setSeek:function(e){try{this.mediaElement.api_seek(e)}catch(t){}},setVolume:function(e){this._volume=e;try{this.mediaElement.api_volume(e)}catch(t){return!1}return e},setPause:function(){try{this.mediaElement.api_pause()}catch(e){}},setPlay:function(){try{this.mediaElement.api_play()}catch(e){}},getVolume:function(){return this._jarisVolume},errorListener:function(){this.setTestcard(4)},volumeListener:function(e){this._jarisVolume!=e.volume&&(this._jarisVolume=e.volume,this.sendUpdate("volume",e.volume))},detachMedia:function(){try{e(this.mediaElement).remove()}catch(t){}}}),$p.newModel({modelId:"AUDIOFLASH",iLove:[{ext:"mp3",type:"audio/mp3",platform:"flash"},{ext:"mp3",type:"audio/mpeg",platform:"flash"},{ext:"m4a",type:"audio/mp4",platform:"flash"}],applyMedia:function(t){this.imageElement=this.applyImage(this.pp.getConfig("cover")||this.pp.getConfig("poster"),t);var i=e("#"+this.pp.getMediaId()+"_flash_container");0==i.length&&(i=e(document.createElement("div")).css({width:"1px",height:"1px"}).attr("id",this.pp.getMediaId()+"_flash_container").appendTo(t));var s={id:this.pp.getMediaId()+"_flash",name:this.pp.getMediaId()+"_flash",src:this.pp.getConfig("playerFlashMP3"),width:"1px",height:"1px",allowScriptAccess:"always",allowFullScreen:"true",allowNetworking:"all",wmode:"transparent",bgcolor:"#000000",FlashVars:{source:this.media.file,type:"audio",streamtype:this.pp.getConfig("flashStreamType"),server:"rtmp"==this.pp.getConfig("flashStreamType")?this.pp.getConfig("flashRTMPServer"):"",autostart:"false",hardwarescaling:"false",controls:"false",jsapi:"true"}};this.createFlash(s,i)}},"VIDEOFLASH")}),jQuery(function(e){$p.newModel({modelId:"VIDEO",iLove:[{ext:"ogv",type:"video/ogg",platform:"native"},{ext:"webm",type:"video/webm",platform:"native"},{ext:"ogg",type:"video/ogg",platform:"native"},{ext:"anx",type:"video/ogg",platform:"native"},{ext:"mp4",type:"video/mp4",platform:"native",fixed:"maybe"}],allowRandomSeek:!1,videoWidth:0,videoHeight:0,element:"video",init:function(){this.pp.getIsMobileClient()&&"video"==this.element&&(this.hasGUI=!0),this.ready()},applyMedia:function(t){this.elementReady=!1,(this.media.type.indexOf("/ogg")>-1||this.media.type.indexOf("/webm")>-1)&&(this.allowRandomSeek=!0),"audio"==this.element&&(this.imageElement=this.applyImage(this.pp.getConfig("cover")||this.pp.getConfig("poster"),t));var i="video"==this.element?t:e("body");i.append(e(document.createElement(this.element)).attr({id:this.pp.getMediaId()+"_html",poster:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi/v//PwNAgAEACQsDAUdpTjcAAAAASUVORK5CYII=",loop:!1,autoplay:!0,"x-webkit-airplay":"allow"}).prop({controls:this.hasGUI&&"video"==this.element,volume:this.getVolume()}).css({width:"video"==this.element?"100%":"1px",height:"video"==this.element?"100%":"1px",position:"absolute",top:0,left:0})),this.mediaElement=e("#"+this.pp.getMediaId()+"_html");for(var s in this.media.setup)this.media.setup[s].src&&e(document.createElement("source")).appendTo(this.mediaElement).attr({src:this.media.setup[s].src,type:this.media.setup[s].type});this.waitforPlayer()},waitforPlayer:function(){if(1!=this.elementReady){var t=this,i=e("#"+this.pp.getMediaId()+"_html");try{if(void 0==i)return void setTimeout(function(){t.waitforPlayer()},200);if(void 0==i[0].networkState)return void setTimeout(function(){t.waitforPlayer()},200);this.elementReady=!0}catch(s){return void setTimeout(function(){t.waitforPlayer()},200)}}},addListeners:function(){var e=this;"video"==this.element&&this.mediaElement.bind("loadedmetadata",function(){e.metaDataListener(this)}),this.mediaElement.bind("pause",function(){e.pauseListener(this)}),this.mediaElement.bind("play",function(){e.playingListener(this)}),this.mediaElement.bind("volumechange",function(){e.volumeListener(this)}),this.mediaElement.bind("progress",function(t){e.progressListener(t,this)}),this.mediaElement.bind("timeupdate",function(){e.timeListener(this)}),this.mediaElement.bind("ended",function(){e.endedListener(this)}),this.mediaElement.bind("waiting",function(){e.waitingListener(this)}),this.mediaElement.bind("canplaythrough",function(){e.canplayListener(this)}),this.mediaElement.bind("canplay",function(){e.canplayListener(this)}),this.mediaElement.bind("error",function(t){e.errorListener(t,this)}),this.mediaElement.bind("suspend",function(){e.suspendListener(this)})},updatePlayerInfo:function(){if(null!=this.mediaElement){var e=this,t=this.mediaElement[0];if("PLAYING"==this.getState())switch(t.networkState){case t.NETWORK_EMPTY:break;case t.NETWORK_IDLE:break;case t.NETWORK_LOADING:break;case t.NETWORK_NO_SOURCE:this.setTestcard(4)}-1=="PAUSED|ERROR".indexOf(this.getState())&&setTimeout(function(){e.updatePlayerInfo()},500)}},detachMedia:function(){try{this.mediaElement[0].pause(),e(this.mediaElement[0]).prop("src",""),this.mediaElement[0].load()}catch(t){}},setPlay:function(){try{this.mediaElement[0].play()}catch(e){}this.updatePlayerInfo()},setPause:function(){try{this.mediaElement[0].pause()}catch(e){}},setVolume:function(e){this._volume=e;try{this.mediaElement.prop("volume",e)}catch(t){return!1}return e},setSeek:function(e){try{this.mediaElement.prop("currentTime",e)}catch(t){}},setFullscreen:function(){"audio"!=this.element&&this._scaleVideo()},setResize:function(){"audio"!=this.element&&this._scaleVideo(!1)}}),$p.newModel({modelId:"AUDIO",iLove:[{ext:"ogg",type:"audio/ogg",platform:"native"},{ext:"oga",type:"audio/ogg",platform:"native"},{ext:"mp3",type:"audio/mp3",platform:"native"}],imageElement:{},element:"audio"},"VIDEO")}),jQuery(function(e){$p.newModel({modelId:"IMAGE",iLove:[{ext:"jpg",type:"image/jpeg",platform:"all"},{ext:"gif",type:"image/gif",platform:"all"},{ext:"png",type:"image/png",platform:"all"}],allowRandomSeek:!0,_interval:null,_position:0,_duration:0,applyMedia:function(e){this.mediaElement=this.applyImage(this.media.file,e),this.elementReady=!0,this._duration=this.pp.getConfig("duration")},setPlay:function(){var e=this;this._setBufferState("full"),this.progressListener(100),this.playingListener(),this._duration>0?this._interval=setInterval(function(){e._position=e._position+.5,e._position>e._duration&&(clearInterval(e._interval),e._setState("completed")),e.timeListener({duration:e._duration,position:e._position})},500):e._setState("completed")},detachMedia:function(){this._position=0,clearInterval(this._interval),this.mediaElement.remove()},setPause:function(){this.pauseListener(),clearInterval(this._interval)},setSeek:function(e){e<this._duration&&(this._position=e)
}}),$p.newModel({modelId:"HTML",iLove:[{ext:"html",type:"text/html",platform:"all"}],applyMedia:function(t){var i=this;this.mediaElement=e(document.createElement("iframe")).attr({id:this.pp.getMediaId()+"_iframe",name:this.pp.getMediaId()+"_iframe",src:this.media.file,scrolling:"no",frameborder:"0",width:"100%",height:"100%"}).css({overflow:"hidden",border:"0px",width:"100%",height:"100%"}).appendTo(t),this.mediaElement.load(function(){i.success()}),this.mediaElement.error(function(){i.remove()}),this._duration=this.pp.getConfig("duration")},success:function(){this.elementReady=!0},remove:function(){this.mediaElement.remove(),this.elementReady=!0}},"IMAGE")}),jQuery(function(e){$p.newModel({modelId:"YTVIDEO",iLove:[{ext:"youtube.com",type:"video/youtube",platform:"flash",fixed:!0}],modelReady:!1,allowRandomSeek:!0,useIframeAPI:!0,_updateTimer:null,init:function(){var t=this;if(this.useIframeAPI=this.pp.getConfig("useYTIframeAPI")||this.pp.getIsMobileClient(),this.useIframeAPI!==!0)return this.requiresFlash=8,this.flashVerifyMethod="cueVideoById",void this.ready();this.pp.getId();window.ProjekktorYoutubePlayerAPIReady!==!0?(e.getScript("http://www.youtube.com/player_api"),function(){try{if(1==window.ProjekktorYoutubePlayerAPIReady)return void t.ready();setTimeout(arguments.callee,50)}catch(e){setTimeout(arguments.callee,50)}}()):this.ready(),window.onYouTubePlayerAPIReady=function(){window.ProjekktorYoutubePlayerAPIReady=!0}},applyMedia:function(t){this._setBufferState("empty");var i=this;if(this.useIframeAPI===!0)this.mediaElement=new YT.Player(this.pp.getId()+"_media",{width:this.pp.getIsMobileClient()?this.pp.config._width:"100%",height:this.pp.getIsMobileClient()?this.pp.config._height:"100%",playerVars:{autoplay:0,disablekb:1,start:0,controls:0,enablejsapi:1,wmode:"opaque"},videoId:this.youtubeGetId(),events:{onReady:function(e){i.onReady(e)},onStateChange:function(e){i.stateChange(e)},onError:function(e){i.errorListener(e)}}}),e(this.mediaElement.a).prop("ALLOWTRANSPARENCY",!0).attr({scrolling:"no",frameborder:0}).css({overflow:"hidden",border:"0px",display:"block"}),e.browser.mozilla&&(this.requiresFlash=8);else{var s={id:this.pp.getId()+"_media_youtube",name:this.pp.getId()+"_media_youtube",src:"http://www.youtube.com/apiplayer",width:"100%",height:"100%",bgcolor:"#000000",allowScriptAccess:"always",wmode:"transparent",FlashVars:{enablejsapi:1,autoplay:1}};this.createFlash(s,t)}},flashReadyListener:function(){this._youtubeResizeFix(),this.addListeners(),this.mediaElement.cueVideoById(this.youtubeGetId())},flashReinitListener:function(){this._youtubeResizeFix(),this.addListeners(),e.browser.mozilla&&(this.mediaElement.cueVideoById(this.youtubeGetId()),"PLAYING"===this.getState()&&this.setPlay()),this.elementReady=!0},_youtubeResizeFix:function(){e(this.mediaElement).attr({width:"99.99999%",height:"99.9999%"}),this.applyCommand("volume",this.pp.getConfig("volume"))},addListeners:function(){this.useIframeAPI!==!0&&(this.mediaElement.addEventListener("onStateChange","projekktor('"+this.pp.getId()+"').playerModel.stateChange"),this.mediaElement.addEventListener("onError","projekktor('"+this.pp.getId()+"').playerModel.errorListener"))},setSeek:function(e){try{this.mediaElement.seekTo(e,!0)}catch(t){}},setVolume:function(e){try{this.mediaElement.setVolume(100*e)}catch(t){}},setPause:function(){try{this.mediaElement.pauseVideo()}catch(e){}},setPlay:function(){try{this.mediaElement.playVideo()}catch(e){}},getVolume:function(){try{return this.mediaElement.getVolume()}catch(e){}return 0},getPoster:function(){return this.media.config.poster||this.pp.config.poster||"http://img.youtube.com/vi/"+this.youtubeGetId()+"/0.jpg"},errorListener:function(e){switch(void 0==e.data?e:e.data){case 100:this.setTestcard(500);break;case 101:case 150:this.setTestcard(501);break;case 2:this.setTestcard(502)}},stateChange:function(e){if(clearTimeout(this._updateTimer),null!==this.mediaElement)switch(void 0==e.data?e:e.data){case-1:this.setPlay();break;case 0:this.endedListener({});break;case 1:this._setBufferState("full"),this.playingListener({}),this.canplayListener({}),this.updateInfo();break;case 2:this.pauseListener({});break;case 3:this.waitingListener({});break;case 5:this.useIframeAPI!==!0&&this.onReady()}},onReady:function(){if(this.setVolume(this.pp.getVolume()),this.elementReady=!0,!(this.media.title||this.pp.config.title||this.elementReady)){var t=this;e.ajax({url:"http://gdata.youtube.com/feeds/api/videos/"+this.youtubeGetId()+"?v=2&alt=jsonc",complete:function(i){try{data=i.responseText,"string"==typeof data&&(data=e.parseJSON(data)),data.data.title&&t.sendUpdate("config",{title:data.data.title+" ("+data.data.uploader+")"})}catch(s){}t.elementReady=!0}})}},youtubeGetId:function(){return encodeURIComponent(this.media.file.replace(/^[^v]+v.(.{11}).*/,"$1"))},updateInfo:function(){var e=this;clearTimeout(this._updateTimer),function(){if(null==e.mediaElement)return void clearTimeout(e._updateTimer);try{"IDLE"!==e.getState()&&"COMPLETED"!==e.getState()&&(e.timeListener({position:e.mediaElement.getCurrentTime(),duration:e.mediaElement.getDuration()}),e.progressListener({loaded:e.mediaElement.getVideoBytesLoaded(),total:e.mediaElement.getVideoBytesTotal()}))}catch(t){}e._updateTimer=setTimeout(arguments.callee,500)}()}}),$p.newModel({modelId:"YTAUDIO",iLove:[{ext:"youtube.com",type:"audio/youtube",platform:"flash",fixed:"maybe"}],applyMedia:function(e){this.imageElement=this.applyImage(this.pp.getConfig("cover")||this.pp.getConfig("poster"),e),this._setBufferState("empty"),this.mediaElement=new YT.Player(this.pp.getId()+"_media",{width:"100px",height:"100px",playerVars:{autoplay:10,disablekb:1,start:0,controls:0,enablejsapi:1,playerapiid:this.pp.getId(),origin:location.host},videoId:this.youtubeGetId(),events:{onReady:"onReady"+this.pp.getId(),onStateChange:"onStateChange"+this.pp.getId(),onError:"onError"+this.pp.getId()}})}},"YTVIDEO")});var projekktorControlbar=function(){};jQuery(function(e){projekktorControlbar.prototype={_cTimer:null,_noCHide:!1,_cFading:!1,_vSliderAct:!1,_storeVol:0,_timeTags:{},cb:null,cbFS:null,_pos:{left:0,right:0},controlElements:{},controlElementsConfig:{cb:null,playhead:{on:null,call:null},loaded:{on:"click",call:"scrubberClk"},scrubber:{on:"click",call:"scrubberClk"},play:{on:"click",call:"playClk"},pause:{on:"click",call:"pauseClk"},stop:{on:"click",call:"stopClk"},prev:{on:"click",call:"prevClk"},next:{on:"click",call:"nextClk"},rewind:{on:"click",call:"rewindClk"},forward:{on:"click",call:"forwardClk"},fsexit:{on:"click",call:"exitFullscreenClk"},fsenter:{on:"click",call:"enterFullscreenClk"},vslider:{on:"click",call:"vsliderClk"},vmarker:{on:"click",call:"vsliderClk"},vknob:{on:"mousedown",call:"vknobStartDragListener"},mute:{on:"click",call:"muteClk"},unmute:{on:"click",call:"unmuteClk"},vmax:{on:"click",call:"vmaxClk"},open:{on:"click",call:"openCloseClk"},close:{on:"click",call:"openCloseClk"},loopon:{on:"click",call:"loopClk"},loopoff:{on:"click",call:"loopClk"},draghandle:{on:"mousedown",call:"handleStartDragListener"},controls:{on:null,call:null},title:null,sec_dur:null,min_dur:null,hr_dur:null,sec_elp:null,min_elp:null,hr_elp:null,sec_rem:null,min_rem:null,hr_rem:null},config:{disableFade:!1,fadeDelay:2500,showOnStart:!1,controlsTemplate:"<div %{fsexit}></div><div %{fsenter}></div><div %{play}></div><div %{pause}></div><div %{prev}></div><div %{next}></div><div %{title}></div><div %{timeleft}>%{min_elp}:%{sec_elp} | %{min_dur}:%{sec_dur}</div><div %{scrubber}><div %{loaded}></div><div %{playhead}></div></div><div %{vslider}><div %{vmarker}></div><div %{vknob}></div></div><div %{mute}></div><div %{vmax}></div>",controlsTemplateFull:null,toggleMute:!1},initialize:function(){var t=this.playerDom.html(),i=!0,s=this.getConfig("cssClassPrefix");for(var n in this.controlElementsConfig)if(t.match(new RegExp(s+n,"gi"))){i=!1;break}i?(this.cb=this.applyToPlayer(e(document.createElement("div")).addClass("controls")),this.cbFS=this.applyToPlayer(e(document.createElement("div")).addClass("controls").addClass("fullscreen").removeClass("active").addClass("inactive")),this.applyTemplate(this.cb,this.getConfig("controlsTemplate")),this.applyTemplate(this.cbFS,this.getConfig("controlsTemplateFull")||this.getConfig("controlsTemplate"))):(this.cb=this.playerDom.find("."+s+"controls:not(.fullscreen)"),this.cbFS=this.playerDom.children("."+s+"controls.fullscreen"),0==this.cbFS.length&&(this.cbFS=this.cb));for(var n in this.controlElementsConfig)this.controlElements[n]=e(this.playerDom).find("."+s+n),this.blockSelection(this.controlElements[n]);this.addGuiListeners(),this._storeVol=this.getConfig("volume"),this.drawUpdateControls(),this.hidecb(!0),this.pluginReady=!0},applyTemplate:function(t,i){var s=this.getConfig("cssClassPrefix");if(i){var n=i.match(/\%{[a-zA-Z_]*\}/gi);null!=n&&e.each(n,function(e,t){var n=t.replace(/\%{|}/gi,"");i=t.match(/\_/gi)?i.replace(t,'<span class="'+s+n+'"></span>'):i.replace(t,'class="'+s+n+'"')}),t.html(i)}},itemHandler:function(){this.pluginReady=!0,this.hidecb(!0)},startHandler:function(){1==this.getConfig("showOnStart")?this.showcb(!0):this.hidecb(!0)},readyHandler:function(){clearTimeout(this._cTimer),this.cb.removeClass("fade"),this.cbFS.removeClass("fade"),1!=this.getConfig("disableFade")&&(this.cb.addClass("fade"),this.cbFS.addClass("fade")),this.pluginReady=!0},drawUpdateControls:function(){var e=this.pp.getState();if(clearTimeout(this._cTimer),!this.pp.getHasGUI()){if(0==this.getConfig("controls"))return void this.hidecb(!0);var t=this.pp.getItemCount()<2||this.getConfig("disallowSkip");t?(this.controlElements.prev.removeClass("active").addClass("inactive"),this.controlElements.next.removeClass("active").addClass("inactive")):(this.controlElements.prev.removeClass("inactive").addClass("active"),this.controlElements.next.removeClass("inactive").addClass("active")),this.pp.getItemIdx()<1&&this.controlElements.prev.removeClass("active").addClass("inactive"),this.pp.getItemIdx()>=this.pp.getItemCount()-1&&this.controlElements.next.removeClass("active").addClass("inactive"),this.getConfig("disablePause")?(this.controlElements.pause.removeClass("active").addClass("inactive"),this.controlElements.play.removeClass("active").addClass("inactive")):("PLAYING"===e&&this.drawPauseButton(),"PAUSED"===e&&this.drawPlayButton(),"IDLE"===e&&this.drawPlayButton()),"IDLE"==e?this.controlElements.stop.removeClass("active").addClass("inactive"):this.controlElements.stop.removeClass("inactive").addClass("active"),"IDLE"==e?(this.controlElements.forward.removeClass("active").addClass("inactive"),this.controlElements.rewind.removeClass("active").addClass("inactive")):(this.controlElements.forward.removeClass("inactive").addClass("active"),this.controlElements.rewind.removeClass("inactive").addClass("active")),this.pp.getInFullscreen()===!0?this.drawExitFullscreenButton():this.drawEnterFullscreenButton(),this.getConfig("enableFullscreen")||(this.controlElements.fsexit.removeClass("active").addClass("inactive"),this.controlElements.fsenter.removeClass("active").addClass("inactive")),1!=this.pp.config._loop?(this.controlElements.loopoff.removeClass("active").addClass("inactive"),this.controlElements.loopon.removeClass("inactive").addClass("active")):(this.controlElements.loopoff.removeClass("inactive").addClass("active"),this.controlElements.loopon.removeClass("active").addClass("inactive")),this.drawTitle(),this.drawUpdateTimeDisplay(),this.drawUpdateVolumeDisplay(this.pp.getVolume()||this._storeVol)}},stateHandler:function(e){this.drawUpdateControls(),"STOPPED|AWAKENING|IDLE".indexOf(e)>-1?(this.drawUpdateTimeDisplay(0,0,0),this.drawUpdateProgressDisplay(0)):this.drawUpdateProgressDisplay()},scheduleModifiedHandler:function(){"IDLE"!==this.pp.getState()&&(this.drawUpdateControls(),this.drawUpdateTimeDisplay(),this.drawUpdateProgressDisplay())},volumeHandler:function(e){this.drawUpdateVolumeDisplay(e)},progressHandler:function(){this.drawUpdateProgressDisplay()},timeHandler:function(){this.drawUpdateTimeDisplay(),this.drawUpdateProgressDisplay()},fullscreenHandler:function(){var e=this,t=this.getConfig("cssClassPrefix");this._noCHide=!1,this._cFading=!1,this._vSliderAct=!1,clearTimeout(this._cTimer),this.getConfig("controls")&&this.getConfig("enableFullscreen")&&(this.pp.getInFullscreen()===!0?(this.playerDom.children("."+t+"controls:not(.fullscreen)").stop(!0,!0).removeClass("active").addClass("inactive").css("display",""),this.playerDom.children("."+t+"controls.fullscreen").stop(!0,!0).removeClass("inactive").addClass("active").css("display","")):(this.playerDom.children("."+t+"controls:not(.fullscreen)").stop(!0,!0).removeClass("inactive").addClass("active").css("display",""),this.playerDom.children("."+t+"controls.fullscreen").stop(!0,!0).removeClass("active").addClass("inactive").css("display","")),this.drawUpdateControls(),"IDLE"==this.pp.getState()?this.hidecb(!0):this._cTimer=setTimeout(function(){e.hidecb()},this.getConfig("fadeDelay")))},addGuiListeners:function(){var t=this;e.each(this.controlElementsConfig,function(e,i){i&&null!=i.on&&t.controlElements[e][i.on](function(s){t.clickCatcher(s,i.call,t.controlElements[e])})}),this.cbFS.mouseenter(function(e){t.controlsMouseEnterListener(e)}),this.cbFS.mouseleave(function(e){t.controlsMouseLeaveListener(e)}),this.cb.mouseenter(function(e){t.controlsMouseEnterListener(e)}),this.cb.mouseleave(function(e){t.controlsMouseLeaveListener(e)})},clickCatcher:function(t,i,s){return e.browser.msie?t.cancelBubble=!0:t.stopPropagation(),s.hasClass("inactive")||this[i](t,s),!1},drawTitle:function(){this.controlElements.title.html(this.getConfig("title",""))},hidecb:function(t){clearTimeout(this._cTimer);var i=(this.getConfig("cssClassPrefix"),this.pp.getInFullscreen()===!0?this.cbFS:this.cb),s=this;if(null!=i&&(i.stop(!0,!0),1!=this._noCHide&&i.is(":visible")))return t===!0?(this._cFading=!1,void i.removeClass("active").addClass("inactive").css("display","")):0==this.getConfig("controls")||this.pp.getHasGUI()||!i.hasClass("fade")?void i.removeClass("active").addClass("inactive"):void i.fadeOut("slow",function(){e(this).removeClass("active").addClass("inactive").css("display",""),s._cFading=!1})},showcb:function(t){if(clearTimeout(this._cTimer),this.pp.getHasGUI()||0==this.getConfig("controls"))return void s.removeClass("active").addClass("inactive").css("display","");{var i=this,s=this.pp.getInFullscreen()===!0?this.cbFS:this.cb;this.getConfig("cssClassPrefix")}if(null!=s&&!("IDLE|AWAKENING|ERROR".indexOf(this.pp.getState())>-1&&1!=t)){if(s.stop(!0,!0),!s.hasClass("fade")||1==t)return void s.removeClass("inactive").addClass("active").css("display","");if(s.is(":visible")||1==this._cFading)return void(this._cTimer=setTimeout(function(){i.hidecb()},this.getConfig("fadeDelay")));this._cFading=!0,s.fadeIn("slow",function(){i._cFading=!1,e(this).removeClass("inactive").addClass("active").css("display","")})}},drawUpdateTimeDisplay:function(t,i,s){if(!this.pp.getHasGUI()){try{var n=void 0!=t?t:this.pp.getLoadPlaybackProgress(),a=void 0!=i?i:this.pp.getDuration(),o=void 0!=s?s:this.pp.getPosition()}catch(r){var n=t||0,a=i||0,o=s||0}this.controlElements.playhead.css("width",n+"%");var l=e.extend({},this._clockDigits(a,"dur"),this._clockDigits(o,"elp"),this._clockDigits(a-o,"rem"));e.each(this.controlElements,function(t,i){l[t]&&e.each(i,function(){e(this).html(l[t])})})}},drawUpdateProgressDisplay:function(){this.controlElements.loaded.css("width",this.pp.getLoadProgress()+"%")},drawUpdateVolumeDisplay:function(e){if(1!=this._vSliderAct&&void 0!=e){clearTimeout(this._cTimer);var t=this.pp.getInFullscreen()===!0?this.cbFS:this.cb,i=t.is(":visible"),s=this,n=this.controlElements.mute.hasClass("toggle")||this.controlElements.unmute.hasClass("toggle")||this.getConfig("toggleMute"),a=t.find("."+this.getConfig("cssClassPrefix")+"vknob"),o=t.find("."+this.getConfig("cssClassPrefix")+"vslider");switch(t.stop(!0,!0).show(),e){case 0:a.css("left",0);break;case 1:a.css("left",o.width()-a.width()/2+"px");break;default:a.css("left",e*(o.width()-a.width()/2)+"px")}n?(e?(this.controlElements.mute.removeClass("inactive").addClass("active"),this.controlElements.unmute.removeClass("active").addClass("inactive")):(this.controlElements.mute.removeClass("active").addClass("inactive"),this.controlElements.unmute.removeClass("inactive").addClass("active"),this.controlElements.vmax.removeClass("inactive").addClass("active")),1==e?this.controlElements.vmax.removeClass("active").addClass("inactive"):this.controlElements.vmax.removeClass("inactive").addClass("active")):(this.controlElements.vmax.removeClass("inactive").addClass("active"),this.controlElements.unmute.removeClass("inactive").addClass("active"),this.controlElements.mute.removeClass("inactive").addClass("active")),this.controlElements.vmarker.css("width",100*e+"%"),this._cTimer=setTimeout(function(){s.hidecb()},this.getConfig("fadeDelay")),i||t.hide()}},drawPauseButton:function(){this.controlElements.pause.removeClass("inactive").addClass("active"),this.controlElements.play.removeClass("active").addClass("inactive")},drawPlayButton:function(){this.controlElements.pause.removeClass("active").addClass("inactive"),this.controlElements.play.removeClass("inactive").addClass("active")},drawEnterFullscreenButton:function(){this.controlElements.fsexit.removeClass("active").addClass("inactive"),this.controlElements.fsenter.removeClass("inactive").addClass("active")},drawExitFullscreenButton:function(){this.controlElements.fsexit.removeClass("inactive").addClass("active"),this.controlElements.fsenter.removeClass("active").addClass("inactive")},playClk:function(){this.pp.setPlay()},pauseClk:function(){this.pp.setPause()},stopClk:function(){this.pp.setStop()},controlsMouseEnterListener:function(){this._noCHide=!0},controlsMouseLeaveListener:function(){this._noCHide=!1},controlsClk:function(){},mousemoveHandler:function(){this.showcb()},prevClk:function(){this.pp.setActiveItem("previous")},nextClk:function(){this.pp.setActiveItem("next")},forwardClk:function(){this.pp.setPlayhead("+10")},rewindClk:function(){this.pp.setPlayhead("-10")},muteClk:function(){this._storeVol=0==this.pp.getVolume()?this.getConfig("volume"):this.pp.getVolume(),this.pp.setVolume(0)},unmuteClk:function(){this._storeVol<=0&&(this._storeVol=1),this.pp.setVolume(this._storeVol)},vmaxClk:function(){this.pp.setVolume(1)},enterFullscreenClk:function(){this.pp.setFullscreen(!0)},exitFullscreenClk:function(){this.pp.setFullscreen(!1)},openCloseClk:function(t){var i=this;e(e(t.currentTarget).attr("class").split(/\s+/)).each(function(e,t){-1!=t.indexOf("toggle")&&(i.playerDom.find("."+t.substring(6)).slideToggle("slow",function(){i.pp.setResize()}),i.controlElements.open.toggle(),i.controlElements.close.toggle())})},loopClk:function(t){this.pp.config._loop=e.inArray(this.getConfig("cssClassPrefix")+"loopon",e(t.currentTarget).attr("class").split(/\s+/))>-1?!0:!1,this.drawUpdateControls()},startClk:function(){this.pp.setPlay()},scrubberClk:function(t){var i=0;if(1!=this.getConfig("disallowSkip")){var s=this.pp.getInFullscreen()===!0&&this.controlElements.vslider.length>1?1:0,n=e(this.controlElements.scrubber[s]).width(),a=e(this.controlElements.loaded[s]).width(),o=t.pageX-e(this.controlElements.scrubber[s]).offset().left;0>o||"NaN"==o||void 0==o?i=0:void 0!=a&&(o>a&&(o=a-1),i=100*o/n*this.pp.getDuration()/100*1),this.pp.setPlayhead(i)}},vmarkerClk:function(e){vsliderClk(e)},vsliderClk:function(t){if(1!=this._vSliderAct){var i=this.pp.getInFullscreen()===!0&&this.controlElements.vslider.length>1?1:0,s=e(this.controlElements.vslider[i]),n=s.width(),a=t.pageX-s.offset().left;result=0>a||"NaN"==a||void 0==a?0:a/n,this.pp.setVolume(result),this._storeVol=result}},vknobStartDragListener:function(t,i){this._vSliderAct=!0;var s=this,n=this.pp.getInFullscreen()===!0&&this.controlElements.vslider.length>1?1:0,a=e(i[n]),o=e(this.controlElements.vslider[n]),r=Math.abs(parseInt(a.position().left)-t.clientX),l=0,d=function(t){return e.browser.msie?t.cancelBubble=!0:t.stopPropagation(),s.playerDom.unbind("mouseup",d),o.unbind("mousemove",h),o.unbind("mouseup",d),a.unbind("mousemove",h),a.unbind("mouseup",d),s._vSliderAct=!1,!1},h=function(t){clearTimeout(s._cTimer),e.browser.msie?t.cancelBubble=!0:t.stopPropagation();var i=t.clientX-r;return i=i>o.width()-a.width()/2?o.width()-a.width()/2:i,i=0>i?0:i,a.css("left",i+"px"),l=Math.abs(i/(o.width()-a.width()/2)),s.pp.setVolume(l),s._storeVol=l,e(s.controlElements.vmarker[n]).css("width",100*l+"%"),!1};this.playerDom.mouseup(d),o.mousemove(h),o.mouseup(d),a.mousemove(h),a.mouseup(d)},handleStartDragListener:function(t){var i=this,s=Math.abs(parseInt(this.cb.position().left)-t.clientX),n=Math.abs(parseInt(this.cb.position().top)-t.clientY),a=function(t){return e.browser.msie?t.cancelBubble=!0:t.stopPropagation(),i.playerDom.unbind("mouseup",a),i.playerDom.unbind("mouseout",a),i.playerDom.unbind("mousemove",o),!1},o=function(t){e.browser.msie?t.cancelBubble=!0:t.stopPropagation(),clearTimeout(i._cTimer);var a=t.clientX-s;a=a>i.playerDom.width()-i.cb.width()?i.playerDom.width()-i.cb.width():a,a=0>a?0:a,i.cb.css("left",a+"px");var o=t.clientY-n;return o=o>i.playerDom.height()-i.cb.height()?i.playerDom.height()-i.cb.height():o,o=0>o?0:o,i.cb.css("top",o+"px"),!1};this.playerDom.mousemove(o),this.playerDom.mouseup(a)},errorHandler:function(){this.hidecb(!0)},_clockDigits:function(e,t){(0>e||isNaN(e)||void 0==e)&&(e=0);var i=Math.floor(e/3600),s=e%3600,n=Math.floor(s/60),a=s%60,o=Math.floor(a),r={};return r["min_"+t]=10>n?"0"+n:n,r["sec_"+t]=10>o?"0"+o:o,r["hr_"+t]=10>i?"0"+i:i,r}}});var projekktorDisplay=function(){};jQuery(function(e){projekktorDisplay.prototype={logo:null,logoIsFading:!1,display:null,displayClicks:0,buffIcn:null,buffIcnSprite:null,bufferDelayTimer:null,bufferIconDelay:1,config:{onclick:{callback:"setPlayPause",value:null},onclick_playing:{callback:"setPlayPause",value:null},ondblclick:{callback:"setFullscreen",value:null},bufferIconDelay:200,spriteUrl:"",spriteWidth:50,spriteHeight:50,spriteTiles:25,spriteOffset:1,spriteCountUp:!1,logoImage:"",logoDelay:0,logoPosition:"tl",onlogoclick:{callback:"",value:{url:"",target:"_blank",pause:!0}}},initialize:function(){var t={position:"absolute",overflow:"hidden",height:"100%",width:"100%",top:0,left:0,padding:0,margin:0,display:"block"};this.startButton=this.applyToPlayer(e(document.createElement("div")).addClass("start")).addClass("inactive"),this.buffIcn=this.applyToPlayer(e(document.createElement("div")).addClass("buffering")).addClass("inactive"),""!=this.config.spriteUrl&&(this.buffIcnSprite=e(document.createElement("div")).appendTo(this.buffIcn).css({width:this.config.spriteWidth,height:this.config.spriteHeight,marginLeft:(this.buffIcn.width()-this.config.spriteWidth)/2+"px",marginTop:(this.buffIcn.height()-this.config.spriteHeight)/2+"px",backgroundColor:"transparent",backgroundImage:"url("+this.config.spriteUrl+")",backgroundRepeat:"no-repeat",backgroundPosition:"0 0"}).addClass("inactive")),this.display=this.applyToPlayer(e(document.createElement("div")).addClass("display").css(t)),this.pp.getMediaContainer(),this.logo=this.applyToPlayer(e(document.createElement("img")).addClass("logo").addClass("inactive").attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi/v//PwNAgAEACQsDAUdpTjcAAAAASUVORK5CYII=").css("position","absolute").css(this.getConfig("logoPosition").indexOf("r")>-1?"right":"left","2%").css(this.getConfig("logoPosition").indexOf("t")>-1?"top":"bottom","2%")),this.pluginReady=!0},displayReadyHandler:function(){var e=this;this.startButton.unbind(),this.startButton.click(function(){e.pp.setPlay()})},bufferHandler:function(e){"EMPTY"==e?this.showBufferIcon():this.hideBufferIcon()},stateHandler:function(e){"IDLE"===e?this.startButton.addClass("active").removeClass("inactive"):this.startButton.addClass("inactive").removeClass("active"),("AWAKENING"==e||"COMPLETED"==e||"ERROR"==e)&&this.hideBufferIcon(),("ERROR"==e||"STOPPED"===e)&&this.logo.addClass("inactive").removeClass("active")},stoppedHandler:function(){this.hideBufferIcon()},scheduleLoadingHandler:function(){this.startButton.addClass("inactive").removeClass("active"),this.showBufferIcon()},scheduledHandler:function(){this.getConfig("autoplay")||this.startButton.addClass("active").removeClass("inactive"),this.hideBufferIcon()},itemHandler:function(){var e=this;this.hideBufferIcon(),this.logoIsFading=!1,this.logo.stop(!0,!0).addClass("inactive").removeClass("active").unbind(),0!=this.getConfig("logoImage")?this.logo.attr("src",this.getConfig("logoImage")).css({cursor:""!=this.getConfig("logoURL")?"pointer":"normal"}).click(function(){try{e.pp[e.getConfig("onlogoclick").callback](e.getConfig("onlogoclick").value)}catch(t){}return!1}):this.logo.attr("src","").addClass("inactive").removeClass("active")},timeHandler:function(){if(0!=this.getConfig("logoImage")&&!this.pp.getIsMobileClient()){var t=this.pp.getPosition(),i=this.pp.getDuration(),s=this;!this.logo.is(":visible")&&!this.logoIsFading&&t+this.config.logoDelay<i&&t>this.config.logoDelay&&i>2*this.config.logoDelay&&(this.logoIsFading=!0,this.logo.fadeIn("slow",function(){s.logoIsFading=!1,e(this).addClass("active").removeClass("inactive").css("display","")})),this.logo.is(":visible")&&!this.logoIsFading&&t+this.config.logoDelay>i&&(this.logoIsFading=!0,this.logo.fadeOut("slow",function(){e(this).addClass("inactive").removeClass("active").css("display",""),s.logoIsFading=!1}))}},leftclickHandler:function(t){var i=this;if(-1!=e(t.target).attr("id").indexOf("_media"))return"ERROR"==this.pp.getState()?void this.pp.setActiveItem("next"):void(1!=this.pp.getHasGUI()&&(this.displayClicks++,this.displayClicks>0&&setTimeout(function(){if(1==i.displayClicks)if("PLAYING"==i.pp.getState())try{i.pp[i.getConfig("onclick_playing").callback](i.getConfig("onclick_playing").value)}catch(e){}else try{i.pp[i.getConfig("onclick").callback](i.getConfig("onclick").value)}catch(e){}else if(2==i.displayClicks)try{i.pp[i.getConfig("ondblclick").callback](i.getConfig("ondblclick").value)}catch(e){}i.displayClicks=0},250)))},hideBufferIcon:function(){clearTimeout(this.bufferDelayTimer),this.buffIcn.stop(!0,!0),this.buffIcn.fadeOut("fast",function(){e(this).addClass("inactive").removeClass("active").css("display","")})},showBufferIcon:function(e){var t=this;if(clearTimeout(this.bufferDelayTimer),!this.pp.getHasGUI()){if(("YTAUDIO"===this.pp.getModel()||"YTVIDEO"===this.pp.getModel())&&(e=!0),1!=e&&this.config.bufferIconDelay>0)return void(this.bufferDelayTimer=setTimeout(function(){t.showBufferIcon(!0)},t.config.bufferIconDelay));this.buffIcn.stop(!0,!0),this.buffIcn.hasClass("active")||this.buffIcn.fadeIn("fast",function(){if(null!=t.buffIcnSprite){var e=1==t.config.spriteCountUp?0:(t.config.spriteHeight+t.config.spriteOffset)*t.config.spriteTiles;t.buffIcnSprite.addClass("active").removeClass("inactive").css("display",""),function(){t.buffIcn.is(":visible")&&(t.buffIcnSprite.css("backgroundPosition","0px -"+e+"px"),1==t.config.spriteCountUp?e+=t.config.spriteHeight+t.config.spriteOffset:e-=t.config.spriteHeight+t.config.spriteOffset,e>=t.config.spriteHeight*t.config.spriteTiles&&(e=0),setTimeout(arguments.callee,60))}()}})}}}}),projekktorConfig.prototype={_cookieName:"qwprojekktor",_cookieExpiry:356,_plugins:["Display","Controlbar"],_addplugins:[],_reelParser:function(e){return e},_cssClassPrefix:"pp",_platformPriority:["native","flash"],_bypassFlashFFFix:!1,_iframe:!1,_loop:!1,_autoplay:!1,_continuous:!0,_playlist:[],_theme:!1,_themeRepo:"http://www.projekktorxl.com/themegen/api/themes/live/format/jsonp/id/%{id}/version/%{ver}",_messages:{0:"An error occurred.",1:"You aborted the media playback. ",2:"A network error caused the media download to fail part-way. ",3:"The media playback was aborted due to a corruption problem. ",4:"The media (%{file}) could not be loaded because the server or network failed.",5:"Sorry, your browser does not support the media format of the requested file (%{type}).",6:"Your client is in lack of the Flash Plugin V%{flashver} or higher.",7:"No media scheduled.",8:"! Invalid media model configured !",9:"File (%{file}) not found.",97:"No media scheduled.",98:"Invalid or malformed playlist data!",99:"Click display to proceed. ",500:"This Youtube video has been removed or set to private",501:"The Youtube user owning this video disabled embedding.",502:"Invalid Youtube Video-Id specified."},_debug:!1,_width:0,_height:0,_minHeight:40,_minWidth:40,ID:0,title:null,poster:!1,controls:!1,start:!1,stop:!1,volume:.5,cover:"",disablePause:!1,disallowSkip:!1,fixedVolume:!1,imageScaling:"aspectratio",videoScaling:"aspectratio",playerFlashMP4:"jarisplayer.swf",playerFlashMP3:"jarisplayer.swf",flashStreamType:"file",flashRTMPServer:"",useYTIframeAPI:!1,enableFlashFallback:!0,enableNativePlayback:!0,enableKeyboard:!0,enableFullscreen:!0,enableTestcard:!0,duration:0,className:""},function(e){function t(t,i,s,n,a){function o(){c[0].play()}function r(){c.triggerHandler("ready"),c.triggerHandler("buffer")}function l(){c.unbind("click",o).detach().empty(),c=void 0}function d(e,t){c.bind(e,t)}function h(e,t){c.unbind(e,t)}var c;c=e('<video controls autobuffer height="'+s+'" width="'+i+'" poster="'+(a?a:"")+'"></video>');for(var p in n)"string"==typeof p&&c.append('<source src="'+n[p].src+'" type="'+n[p].type+'">');c.bind("click",o),t.append(c),setTimeout(r,100),e.extend(this,{destroy:l,addListener:d,removeListener:h})}function i(t,i){function a(){switch(i.type){case"youtube":e.pixelentity.youtube(l);break;case"vimeo":e.pixelentity.vimeo(h);break;case"vidly":o(["http://vid.ly/"+i.videoId+"?content=video&format=mp4","http://vid.ly/"+i.videoId+"?content=video&format=webm","http://vid.ly/"+i.videoId+"?content=video&format=ogv"],i.poster);break;case"local":o(i.videoId,i.poster)}}function o(t,a){for(var o={},l=0;l<t.length;l++)o[l]={src:t[l],type:e.pixelentity.video.getType(t[l])};if(i.useVideoTag)f=new e.pixelentity.video.SimplePlayer(v,i.width,i.height,o,a);else{n++;var d="pe_local_player_"+n,h=e('<div id="'+d+'"/>').css({"background-color":"black",width:i.width,height:i.height});v.html(h[0]),f=new projekktor("#"+d,{disableFade:i.disableFade,controls:!0,volume:.9,_width:i.width,_height:i.height,_autoplay:!0,enableFullscreen:!1,imageScaling:"fill",videoScaling:"aspectratio",poster:a,playerFlashMP4:e.pixelentity.video.fallbackPlayer,playerFlashMP3:e.pixelentity.video.fallbackPlayer,playlist:[o]})}f.addListener(s?"ready":"buffer",r)}function r(e){s?(setTimeout(d,100),f.removeListener("ready",r)):("FULL"==e||i.useVideoTag)&&(f.removeListener("buffer",r),d())}function l(t){var s=e("<div/>");v.append(s),f=new t(s[0],{height:i.height,width:i.width,videoId:i.videoId,playerVars:{theme:"dark",wmode:"opaque",autohide:1,enablejsapi:1,origin:location.href.match(/:\/\/(.[^\/]+)/)[1],loop:i.loop?1:0,hd:i.hd?1:0,autoplay:i.autoPlay?1:0,showinfo:0,iv_load_policy:3,modestbranding:1,showsearch:0,fs:0},events:{onStateChange:p,onReady:d}}),m=setInterval(p,250),e.browser.msie&&e.browser.version<8&&setTimeout(d,1e3)}function d(){y||(g.trigger("video_ready.pixelentity"),y=!0)}function h(t){f=new t(v[0],{height:i.height,width:i.width,videoId:i.videoId,playerVars:{autohide:0,origin:location.href.match(/:\/\/(.[^\/]+)/)[1],loop:i.loop?1:0,autoplay:i.autoPlay?1:0}}),e(f).one("video_ready.pixelentity",d).one("video_ended.pixelentity",c)}function c(){g.trigger("video_ended.pixelentity")}function p(){if(f&&f.getPlayerState)switch(f.getPlayerState()){case YT.PlayerState.ENDED:g.trigger("video_ended.pixelentity");break;case YT.PlayerState.PLAYING:f.getDuration()-f.getCurrentTime()<.4&&g.trigger("video_ended.pixelentity")}}function u(e,t){f&&f.setSize&&f.setSize({width:e,height:t})}var f,m,g=e(this),v=t,y=!1;e.extend(this,{resize:u,bind:function(e,t){g.bind(e,t)},unbind:function(e,t){g.bind(e,t)},one:function(e,t){g.one(e,t)},destroy:function(){if(clearInterval(m),g&&g.remove(),g=void 0,f)switch(e(f).unbind("video_ended.pixelentity"),i.type){case"vidly":case"local":f.removeListener&&f.removeListener(s?"ready":"buffer",r),i.useVideoTag?f.destroy&&f.destroy():f.selfDestruct&&f.selfDestruct();break;default:f.destroy&&f.destroy()}f=void 0,v.data("peVideo",null),v=void 0}}),a()}e.pixelentity=e.pixelentity||{version:"1.0.0"},e.pixelentity.video={conf:{disableFade:!1,useVideoTag:!1},getType:function(e){return"video/"+e.match(/(\w+)$/)[1].replace("ogv","ogg")},fallbackPlayer:"js/template/video/jarisplayer.swf",SimplePlayer:t};var s=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|android)/),n=0;e.fn.peVideo=function(t){var s=this.data("peVideo");return s?s:(t=e.extend(!0,{},e.pixelentity.video.conf,t),this.each(function(){s=new i(e(this),t),e(this).data("peVideo",s)
}),t.api?s:this)}}(jQuery),function(e){function t(e,t,i,s){var r,l,d,h,c=!1,p=!1;e=e?e:"";for(var u in n)if("string"==typeof u&&(r=e.match(n[u]),r&&r.length>0)){l=u,d=r[2],i=a[l]?a[l].replace("$ID",d):"";break}if(!d){var f=e.match(o);if(f){if(l="local",d=[f[0]],t)for(t=t.split(","),h=0;h<t.length;h++)d.push(f[1]+t[h])}else d=!1}if(s){var m=s.split(/x| |,/);c=parseInt(m[0],10)||0,p=parseInt(m[1],10)||0}return{video:d,videoType:l,videoPoster:i,videoW:c,videoH:p}}function i(i,n){function a(){var s=t(i[0].href,i.attr("data-formats"),i.attr("data-poster"),i.attr("data-size"));if(s.video){v=s.video,g=s.videoType,y=s.videoPoster,s.videoW!==!1&&i.css({width:s.videoW,height:s.videoH}),f=s.videoW||i.width(),m=s.videoH||i.height();var a=e('<span class="largePlay"></span>');n.responsive?(b=e("<div/>").fadeTo(0,0),i.append(a).removeAttr("href").append(b).wrap('<div class="videoWrapper sixteenBYnine '+s.videoType+'"></div>').addClass("peActiveWidget").bind("enable.pixelentity ",c).bind("disable.pixelentity ",p).bind("click",d)):(i.append(a).wrap('<div style="position: relative; overflow: hidden"></div>').addClass("peActiveWidget").bind("enable.pixelentity ",c).bind("disable.pixelentity ",p).bind("click",d),a.css({left:f-a.width()>>1,top:m-a.height()>>1}),b=e("<div/>").css({position:"absolute","z-index":2,display:"none",width:f+"px",height:m+"px"}),i.parent().prepend(b));var h=i.children("img:eq(0)");h.length>0?(u=h,y=h.attr("src"),l()):y?"vimeo"==g?e.getJSON(y,o):r():i.attr("data-poster")&&(y=i.attr("data-poster"),r()),(e.pixelentity.browser.mobile||n.autoPlay)&&c()}}function o(e){y=e&&e[0]&&e[0].thumbnail_large||!1,y&&r()}function r(){u=e("<img/>"),u.fadeTo(0,0).css("opacity",0).attr("data-src",y),i.append(u),e.pixelentity.preloader.load(u,l)}function l(){if(n.responsive)return void u.width("100%").fadeTo(300,1);var t=u[0].width||u.width(),i=u[0].height||u.height(),s=e.pixelentity.Geom.getScaler("fillmax","center","center",f,m,t,i);u.transform(s.ratio,s.offset.w,s.offset.h,f,m,!0),u.fadeTo(300,1)}function d(){if(_)return!1;if(!e.pixelentity.browser.mobile)for(var t=0;t<s.length;t++)t!=w&&s[t].disable();return b.show().fadeTo(0,0),_=b.peVideo({api:!0,useVideoTag:n.responsive&&e.pixelentity.browser.mobile,width:n.responsive?"100%":f,height:n.responsive?"100%":m,type:g,videoId:v,poster:y,hd:!0,autoPlay:!0,loop:!0}),_.one("video_ready.pixelentity",h),!1}function h(){b.fadeTo(500,1)}function c(){_||!e.pixelentity.browser.mobile&&!n.autoPlay||d()}function p(){_&&(_.destroy&&_.destroy(),_=!1,b.empty().fadeTo(0,0).hide())}var u,f,m,g,v,y,b,w,_=!1;e.extend(this,{enable:c,disable:p,destroy:function(){_&&_.destroy&&_.destroy(),_=void 0,s.splice(w,1),i.data("peVideoPlayer",null),i=void 0}}),w=s.length,s.push(this),a()}e.pixelentity=e.pixelentity||{version:"1.0.0"},e.pixelentity.videoplayer={conf:{autoPlay:!1,responsive:!1,api:!1},getInfo:t};var s=[],n={vidly:/http:\/\/(vid.ly)\/([\w|\-]+)/i,youtube:/http:\/\/(www.youtube.com\/watch\?v=|youtube.com\/watch\?v=|youtu.be\/)([\w|\-]+)/i,vimeo:/http:\/\/(vimeo\.com|www\.vimeo\.com)\/([\w|\-]+)/i},a={vidly:"http://cf.cdn.vid.ly/$ID/poster.jpg",youtube:"http://img.youtube.com/vi/$ID/0.jpg",vimeo:"http://vimeo.com/api/v2/video/$ID.json?callback=?"},o=/(.+[^w])(mp4|webm|ogv)$/i;e.fn.peVideoPlayer=function(t){var s=this.data("peVideoPlayer");return s?s:(t=e.extend(!0,{},e.pixelentity.videoplayer.conf,t),this.each(function(){s=new i(e(this),t),e(this).data("peVideoPlayer",s)}),t.api?s:this)}}(jQuery),function(e){function t(){var e={transformProperty:"",MozTransform:"-moz-",WebkitTransform:"-webkit-",OTransform:"-o-",msTransform:"-ms-"};for(var t in e)if("undefined"!=typeof l[t])return e[t];return null}function i(){var e=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var t in e)if(void 0!==l[e[t]])return!0;return!1}function s(t,i,s,r,l,d,p,u){if(e.support.csstransforms&&!u){var f,m="px";l&&d&&(parseInt(s,10)!=s||parseInt(r,10)!=r)?(s=100*s/l,r=100*r/d,s=parseInt(1e3*s,10)/1e3,r=parseInt(1e3*r,10)/1e3,m="%"):(s=parseInt(s,10),r=parseInt(r,10)),f=e.support.hw3dTransform?void 0!==s?"translate3d("+s+m+","+r+m+",0) ":"translateZ(0) ":void 0!==s?"translate("+s+m+","+r+m+") ":"",e(t).css(c,n).css(h,f+"scale("+i+")")}else if(p||u||!e.browser.msie)e(t).width(l*i).height(d*i).css({"margin-left":s+"px","margin-top":r+"px"});else{var g=t.style,v='progid:DXImageTransform.Microsoft.Matrix(FilterType="'+a+'",M11='+i+",M12=0,M21=0,M22="+i+",Dx="+s+",Dy="+r+")",y=g.filter||e.curCSS(t,"filter")||"";g.filter=o.test(y)?y.replace(o,v):y?y+" "+v:v}}var n="0px 0px",a="bilinear",o=/progid:DXImageTransform\.Microsoft\.Matrix\(.*?\)/,r=document.createElement("modernizr"),l=r.style,d=t(),h=null!==d?d+"transform":!1,c=null!==d?d+"transform-origin":!1;e.support.csstransforms=i(),e.support.hw3dTransform="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,"-ms-"==d&&(h="msTransform",c="msTransformOrigin"),e.fn.transform=function(e,t,i,n,a,o,r){return this.each(function(){s(this,e,t,i,n,a,o,r)}),this}}(jQuery),function(e){function t(){function t(){z=G.width(),W=window.innerHeight?window.innerHeight:G.height(),Y&&(Y.width(z).height(W),At&&Y.css("top",G.scrollTop())),e.pixelentity.browser.mobile&&Z&&Z.data("count")>0&&r(St,!0);for(var t=bt.length;t--;)bt[t].resize(z,W);u()}function i(e,t){pt[t]=e}function a(e){switch(clearTimeout(tt),e.type){case"mouseenter":p(!0);break;case"mouseleave":p(!1);break;case"click":if(!Pt){var t=parseInt(e.currentTarget.id,10);kt>=0&&(Et=t>kt?"next":"prev"),M(t)}return e.stopPropagation(),e.stopImmediatePropagation(),!1}}function o(e){clearTimeout(tt);var t=e?e.pageX:0,i=Z.data("width"),s=i-z;s>=0?(t=-s*t/z,et.css("margin-left",t)):et.css("margin-left","auto")}function r(e,t){var i,s=Z.data("size"),n=Math.floor(z/s),a=0;Z.data("width")>z?(St=t?e:Math.max(0,St+e*n),(i=Z.data("count")-St)<n&&(St-=n-i+1,a=z-n*s-s-8)):St=0,Ft=-St*s+a,et.transform(1,0===Ft?0:Ft-2,0)}function l(e){if(!rt||nt)return!0;var t=e.type,i=e.originalEvent;switch(t){case"touchstart":if(i.touches.length>1||i.scale&&1!==i.scale)return!0;X=i.touches[0].pageX,J=0;break;case"touchmove":if(i.touches.length>1||i.scale&&1!==i.scale)return!0;J=i.touches[0].pageX-X,e.preventDefault(),e.stopPropagation(),Lt&&et.addClass("touchMove").transform(1,Ft+J,0);break;case"touchend":if(Lt&&et.removeClass("touchMove"),0===J)return!1;var s=!1;J>10&&(s=!0,Lt?r(-1):c()),-10>J&&(s=!0,Lt?r(1):h()),J=0}return!0}function d(e){return rt?(e.preventDefault(),e.stopPropagation(),!1):!0}function h(){!Pt&&_t&&(Et="next",M(_t[(Ct+1)%_t.length]))}function c(){!Pt&&_t&&(Et="prev",M(_t[0===Ct?_t.length-1:Ct-1]))}function p(e){var t=Z.parent();Lt=e===!0?!0:e===!1?!1:Lt?!1:!0,ct?t[Lt?"addClass":"removeClass"]("peFlareLightboxActive"):t.animate({"margin-top":Lt?-84:0},500)}function u(){if(st.hasClass("peFlareLightboxActive"))if(e.pixelentity.browser.mobile||"youtube"==Dt.videoType||"vimeo"==Dt.videoType){var t=e.pixelentity.browser.iDev?35:0,i=e.pixelentity.browser.android?9*z/16:W;i=Math.min(i,W),st.find("iframe, video").css("margin-top",(W-i)/2+t).height(i-t).width("100%")}else nt.resize(z,W)}function f(){clearTimeout(Mt),nt.unbind("video_ready.pixelentity",f),q.hide(),st.addClass("peFlareLightboxActive"),u(),!e.pixelentity.browser.iDev||"vimeo"!=Dt.videoType&&"youtube"!=Dt.videoType||(At=!0,Y.css({position:"absolute",top:G.scrollTop()}))}function m(){clearTimeout(Mt),nt&&(nt.destroy&&nt.destroy(),nt=!1,st.removeClass("peFlareLightboxActive").empty(),it.addClass("peFlareLightboxActive")),At&&(At=!1,Y.css({position:"fixed",top:0}))}function g(){nt?(m(),it.addClass("peFlareLightboxActive"),_t||T()):T()}function v(){q.show(),it.removeClass("peFlareLightboxActive"),nt=st.peVideo({api:!0,useVideoTag:e.pixelentity.browser.mobile,disableFade:!0,width:z,height:W,type:Dt.videoType,videoId:Dt.video,poster:e.pixelentity.browser.mobile&&Dt.videoPoster,hd:!0,autoPlay:!0,loop:!1}),nt.one("video_ready.pixelentity",f),Mt=setTimeout(f,5e3)}function y(e){switch(e.currentTarget.id){case"peFlareLightboxControlClose":g();break;case"peFlareLightboxControlNext":h();break;case"peFlareLightboxControlPrev":c();break;case"peFlareLightboxControlThumbs":p();break;case"peFlareLightboxControlVideo":v()}return e.stopPropagation(),e.stopImmediatePropagation(),!1}function b(e,t){if(!rt)return!0;if("keydown"==e.type)switch(e.keyCode){case 27:g();break;case 39:h();break;case 37:c()}else nt||(0>t?h():c());return e.preventDefault(),e.stopPropagation(),!1}function w(e){return at?!0:(at=!0,B=e,!0)}function _(){rt&&At&&Y.css("top",G.scrollTop())}function C(){return ot?!0:(ot=!0,G=e(window).resize(t),G.scroll(_),Y=e('<div class="peFlareLightbox"><div class="peFlareLightboxHidden"></div><div class="peFlareLightboxControls"><div><a href="#" class="sprite" id="peFlareLightboxControlClose"/><a href="#" class="sprite" id="peFlareLightboxControlNext"/><a href="#" class="sprite" id="peFlareLightboxControlPrev"/><a href="#" class="sprite" id="peFlareLightboxControlThumbs"/></div></div><div class="peFlareLightboxOverlay"></div><div class="peFlareLightboxContent"></div><div class="peFlareLightboxThumbs"><span></span></div><a id="peFlareLightboxControlVideo" class="peFlareLightboxVideoIcon"><span></span></a><div class="peFlareLightboxVideo"></div><div class="peFlareLightboxSpinner"><span/></div></div>'),ht||Y.addClass("no-transitions"),e.browser.msie&&Y.addClass("msie"),e("body").append(Y).bind("touchmove",d),q=Y.find(".peFlareLightboxSpinner").hide(),Q=Y.find(".peFlareLightboxContent"),it=Y.find(".peFlareLightboxVideoIcon"),st=Y.find(".peFlareLightboxVideo"),Z=e("<div/>"),e.pixelentity.browser.mobile?(Y.addClass("mobile"),Y.find(".peFlareLightboxThumbs").append(Z)):Y.find(".peFlareLightboxThumbs").bind("mouseenter mouseleave",a).append(Z),K=Y.find(".peFlareLightboxHidden"),Y.bind("touchstart touchmove touchend",l).bind("mousewheel",b).delegate(".peFlareLightboxControls a","click touchstart",y).delegate(".peFlareLightboxThumbs span","click",a),it.click(y),e.pixelentity.browser.mobile?Y.click(p):Z.bind("mousemove",o),void e(document).bind("keydown",b))}function k(){lt=!0,Y.css("filter","none"),Z.data("created")&&(p(!0),tt=setTimeout(p,2e3)),yt.length===wt&&U()}function I(){Y.addClass("peFlareLightboxActive"),ht?setTimeout(k,600):Y.stop().css("opacity",0).fadeTo(500,1,k)}function x(){rt=!0,C(),t(),G.scrollLeft(0),Y.show(),setTimeout(I,10)}function E(){rt=!1,_t=!1,Pt=!1,kt=-1,m(),Y.hide(),Q.empty();for(var e,t;t=bt.shift();)t.destroy();for(;e=ut.shift();)ft[e].destroy();Z.data("created",!1).empty(),Y.removeClass("peFlareLightboxActive"),it.removeClass("peFlareLightboxActive"),Et="none"}function T(){lt=!1,ht?(setTimeout(E,600),Y.removeClass("peFlareLightboxActive")):Y.stop().css("opacity",1).fadeTo(500,0,E)}function P(){q.show()}function L(){Tt=setTimeout(P,500)}function S(){clearTimeout(Tt),q.hide()}function F(){if(_t&&Z.data("created")!==!0){var t,i;et=e("<div/>"),Z.empty().append(et);for(var s=0,n=0;n<_t.length;n++)i=_t[n],(t=gt[i].thumb)&&(t=e("<span/>").attr("data-src",t).attr("id",i),et.append(t),t.peSimpleThumb(),s++);var a=104*s+10;et.width(a),Z.data("count",s),Z.data("size",104),s>0?(Z.data("created",!0),Z.data("width",a),Y.find("#peFlareLightboxControlThumbs").show()):Y.find("#peFlareLightboxControlThumbs").hide()}}function D(e){S();var t=kt;gt[t].resource=e&&e[0]&&e[0].thumbnail_large||!1,kt=-1,M(t)}function M(t){var i=gt[t];if(i.resource.match(s))return kt=t,L(),e.getJSON(i.resource,D),!1;if(t===kt)return dt=!0,wt=0,!1;kt=t,m(),_t=i.gallery?vt[i.gallery]:!1,_t=_t.length>1?_t:!1,Y.find("#peFlareLightboxControlPrev,#peFlareLightboxControlNext")[_t&&_t.length>1?"show":"hide"](),_t?(Ct=e.inArray(t,_t),F()):Y.find("#peFlareLightboxControlThumbs").hide(),dt=!1,wt=0;var n,a,o;ut.length>0&&(a=ft[ut[0]]).isGallery?(n=ut[0],It=!1):(n=xt++,o=pt[i.plugin]||pt["default"],a=new o(n,z,W),ft[n]=a,ut.push(n),It=!0),Dt=i.video?i:!1,Dt||it.removeClass("peFlareLightboxActive"),yt.push(n),L(),a.load(i)}function A(e){return x(),M(parseInt(e.currentTarget.getAttribute("data-pe-target-id"),10)),!1}function R(t){var i=e.inArray(t,ut);i!==!1&&ut.splice(i,1),ft[t]=void 0,delete ft[t]}function j(e,t){switch(e){case"loaded":wt++,yt.length===wt&&lt&&U();break;case"destroy":R(t);break;case"locked":Pt++;break;case"unlocked":Pt--}}function $(t){var i=ft[t],s=i.resize(z,W).render();i.isGallery?Q.append(s):(s.css("left",n[Et].from),Q.append(s),ht?s.fadeTo(0,1).css("left",n[Et].to):s.css("opacity",0).animate({left:n[Et].to,opacity:1},1e3)),e.inArray(i,bt)<0&&bt.push(i),Dt&&!_t?(it.removeClass("peFlareLightboxActive"),v()):it[Dt?"addClass":"removeClass"]("peFlareLightboxActive")}function O(){if(It){It=!1;for(var e;e=bt.shift();)ct?e.render().fadeTo(0,0).css("left",-n[Et].from).one(ct,e.destroy):e.render().css("opacity",1).animate({left:-n[Et].from,opacity:0},1e3,null,e.destroy)}}function U(){if(S(),!dt){dt=!0;var e;for(O();void 0!==(e=yt.shift());)$(e)}}function V(e){var t=e.gallery||!1,i=void 0!==e.id?e.id:gt.length;t&&(vt[t]?vt[t].push(i):vt[t]=[i]),gt.push(e)}function N(t){var i=mt.length,s=t.attr("href"),n=t.attr("data-flare-plugin")||"default";t.attr("data-pe-target-id",mt.length).bind("click",A);var a;a=e.pixelentity.videoplayer.getInfo(s,t.attr("data-flare-videoformats"),t.attr("data-flare-videoposter")),a.video?s=a.videoPoster:a=e.pixelentity.videoplayer.getInfo(t.attr("data-flare-video"),t.attr("data-flare-videoformats"));var o={id:i,plugin:n,resource:s||"",gallery:t.attr("data-flare-gallery")||!1,bw:t.attr("data-flare-bw"),thumb:t.attr("data-flare-thumb"),scale:t.attr("data-flare-scale")||"fit"};a.video&&e.extend(o,a),mt.push(t),V(o)}function H(e){K.append(e)}var B,G,z,W,Y,q,Q,K,X,J,Z,et,tt,it,st,nt,at=!1,ot=!1,rt=!1,lt=!1,dt=!1,ht=e.support.csstransitions,ct=e.support.csstransitionsEnd,pt=[],ut=[],ft={},mt=[],gt=[],vt={},yt=[],bt=[],wt=0,_t=!1,Ct=0,kt=-1,It=!1,xt=1,Et="none",Tt=0,Pt=0,Lt=!1,St=0,Ft=0,Dt=!1,Mt=0,At=!1;e.extend(this,{init:w,add:N,show:$,signal:j,register:i,addToBuffer:H})}function i(t,i){function s(){a.init(i),a.add(t)}e.extend(this,{destroy:function(){t.data("peFlareLightbox",null),t=void 0}}),s()}e.pixelentity=e.pixelentity||{version:"1.0.0"},e.pixelentity.peFlareLightbox={conf:{api:!1}},e.pixelentity.video.fallbackPlayer="js/pe.flare/video/jarisplayer.swf";var s=(navigator.userAgent.toLowerCase(),/http:\/\/(vimeo\.com|www\.vimeo\.com)\//i),n={none:{from:0,to:0},prev:{from:-100,to:0},next:{from:100,to:0}},a=e.pixelentity.lightbox=new t;e.fn.peFlareLightbox=function(t){var s=this.data("peFlareLightbox");return s?s:(t=e.extend(!0,{},e.pixelentity.peFlareLightbox.conf,t),this.each(function(){var n=e(this);s=new i(n,t),n.data("peFlareLightbox",s)}),t.api?s:this)}}(jQuery),function(e){function t(t,s,n){function a(e){return m=e,i.signal("locked",t),h(e),this}function o(){i.signal("unlocked",t)}function r(t,i){if(s=t,n=i,p){var a=0;"fit"==m.scale&&(a=40);var o=e.pixelentity.Geom.getScaler(m.scale,"center","center",s-a,n-a,u,f);p.transform(o.ratio,parseInt(o.offset.w,10)+a/2,parseInt(o.offset.h,10)+a/2,u,f,!0,e.pixelentity.browser.android&&e.pixelentity.browser.android<3)}return this}function l(){u=p[0].naturalWidth||p[0].width||p.width(),f=p[0].naturalHeight||p[0].height||p.height(),i.signal("loaded",t),setTimeout(o,500)}function d(){return v||(v=e('<div class="peFlareLightboxRenderImage" />').append(p.addClass(m.scale)),p.wrap("<div/>")),v}function h(t){g=!0,p=e('<img class="singleImage" src="%0"/>'.format(t.resource)),i.addToBuffer(p),e.pixelentity.preloader.load(p,l)}function c(){p=void 0,v&&(v.detach(),v=void 0),i.signal("destroy",t)}var p,u,f,m,g=!1,v=!1;e.extend(this,{load:a,preload:h,resize:r,render:d,isGallery:!1,destroy:c})}var i;e.pixelentity&&(i=e.pixelentity.lightbox)&&i.register(t,"default")}(jQuery),function(e){function t(t,i){function s(){_=e(window)}function n(i,s){L=P=!1,b&&(y=b.removeClass("peCurrentColor").addClass("pePrevColor")),x=i?1:0,x+=s?1:0,I.triggerHandler("loading.pixelentity");var n=e.browser.mozilla;i?(b=e("<img/>").addClass("peCurrentColor").attr("data-src",i),n&&b.css("background-color","rgba(255,255,255,.01)"),t.append(b.fadeTo(0,0)[0]),e.pixelentity.preloader.load(b,a)):b=!1,s?(w=e("<img/>").addClass("peCurrentBW").attr("data-src",s),n&&w.css("background-color","rgba(255,255,255,.01)"),t.append(w.fadeTo(0,0)[0]),e.pixelentity.preloader.load(w,a)):w=!1,x||o()}function a(){x--,0===x&&o()}function o(){P||(P=!0,I.triggerHandler("loaded.pixelentity"),(L||!i.wait)&&l())}function r(){L=!0,0===x&&l()}function l(){c(b),c(w),d(),y?b?(y.fadeTo(400,0),p()):y.fadeTo(400,0,p):p()}function d(){C=_.width(),k=window.innerHeight?window.innerHeight:_.height(),h(b,1.02),h(w,1)}function h(t,i){if(t){var s=t.data("w"),n=t.data("h"),a=e.pixelentity.Geom.getScaler(T,E[1],E[0],C,k,s,n);t.transform(a.ratio*i,parseInt(a.offset.w+s*(a.ratio-a.ratio*i)*.5,10),parseInt(a.offset.h+n*(a.ratio-a.ratio*i)*.5,10),s,n,!0,e.pixelentity.browser.android&&e.pixelentity.browser.android<3)}}function c(e){e&&(e.data("w",e[0].width||e.width()||e[0].naturalWidth),e.data("h",e[0].height||e.height()||e[0].naturalHeight))}function p(){w&&w.delay(200).fadeTo(800,1),b?b.delay(600).fadeTo(1200,1,u):u()}function u(){y&&(y.remove(),y=!1),w&&(w.remove(),w=!1),I&&I.triggerHandler("complete.pixelentity")}function f(){I.bind.apply(I,arguments)}function m(){I.unbind.apply(I,arguments)}function g(e,t){T=e,E=t.split(/,/)}function v(){y=b=w=_=I=void 0,t.data("peBackgroundSlider",null),t=void 0}var y,b,w,_,C,k,I=e(this),x=0,E="center,center".split(/,/),T="fillmax",P=!1,L=!1;e.extend(this,{load:n,resize:d,gogo:r,bind:f,unbind:m,configure:g,destroy:v}),s()}e.pixelentity=e.pixelentity||{version:"1.0.0"},e.pixelentity.peBackgroundSlider={conf:{api:!1,wait:!1}},e.fn.peBackgroundSlider=function(i){var s=this.data("peBackgroundSlider");return s?s:(i=e.extend(!0,{},e.pixelentity.peBackgroundSlider.conf,i),this.each(function(){var n=e(this);s=new t(n,i),n.data("peBackgroundSlider",s)}),i.api?s:this)}}(jQuery),function(e){function t(t){function i(){n=e("<img/>").attr("src",t.attr("data-src")).fadeTo(0,0),t.append(n),e.pixelentity.preloader.load(n,s)}function s(){var i=n[0].naturalWidth||n[0].width||n.width(),s=n[0].naturalHeight||n[0].height||n.height(),a=e.pixelentity.Geom.getScaler("fill","center","center",t.width(),t.height(),i,s);n.transform(a.ratio,parseInt(a.offset.w,10),parseInt(a.offset.h,10),i,s,!0,!0),n.fadeTo(500,1),t.addClass("loaded"),t=void 0,n=void 0}var n;e.extend(this,{destroy:function(){t.data("peSimpleThumb",null),t=void 0}}),i()}e.pixelentity=e.pixelentity||{version:"1.0.0"},e.pixelentity.peSimpleThumb={conf:{api:!1}},e.fn.peSimpleThumb=function(i){var s=this.data("peSimpleThumb");return s?s:(i=e.extend(!0,{},e.pixelentity.peSimpleThumb.conf,i),this.each(function(){var n=e(this);s=new t(n,i),n.data("peSimpleThumb",s)}),i.api?s:this)}}(jQuery),function(e){function t(t,s,n){function a(e){return f=e,i.signal("locked",t),c(e),this}function o(e,t){return s=e,n=t,u&&u.resize(s,n),this}function r(){i.signal("loaded",t)}function l(){i.signal("unlocked",t)}function d(){return setTimeout(h,50),g}function h(){u&&u.gogo()}function c(t){m=!0,u||(g=e('<div class="peFlareLightboxRenderGallery" />'),i.addToBuffer(g),u=g.peBackgroundSlider({api:!0,wait:!0}),u.bind("loaded.pixelentity",r),u.bind("complete.pixelentity",l)),u.load(t.resource,t.bw),u.configure("fillmax","center,center")}function p(){g&&(g.detach(),g=void 0),u&&(u.unbind("loaded.pixelentity",r),u.unbind("complete.pixelentity",l),u.destroy(),u=void 0),i.signal("destroy",t)}var u,f,m=!1,g=!1;e.extend(this,{load:a,preload:c,resize:o,render:d,isGallery:!0,destroy:p})}var i;e.pixelentity&&(i=e.pixelentity.lightbox)&&i.register(t,"shutter")}(jQuery);