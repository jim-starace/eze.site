<style type="text/css">
	.free-wall {
		margin: 0;
	}
	.brick img {
		margin: 0;
		display: block;
	}
</style>

<div id="freewall" class="free-wall">
<div class='brick' style='width:160px;'><img src='../images/gallery/1.jpg' width='100%'></div>\
<div class='brick' style='width:480px;'><img src='../images/gallery/2.jpg' width='100%'></div>
<div class='brick' style='width:315px;'><img src='../images/gallery/3.jpg' width='100%'></div>
<div class='brick' style='width:320px;'><img src='../images/gallery/4.jpg' width='100%'></div>
<div class='brick' style='width:320px;'><img src='../images/gallery/5.jpg' width='100%'></div>
<div class='brick' style='width:635px;'><img src='../images/gallery/6.jpg' width='100%'></div>
<div class='brick' style='width:160px;'><img src='../images/gallery/7.jpg' width='100%'></div>
<div class='brick' style='width:480px;'><img src='../images/gallery/8.jpg' width='100%'></div>
<div class='brick' style='width:160px;'><img src='../images/gallery/9.jpg' width='100%'></div>
</div>
<script src="js/freewall.js"></script>	
<script type="text/javascript">
	
	var wall = new freewall("#freewall");
	wall.reset({
		selector: '.brick',
		animate: true,
		cellW: 160,
		cellH: 'auto',
		onResize: function() {
			wall.fitWidth();
		}
	});

	var images = wall.container.find('.brick');
	var length = images.length;
	images.css({visibility: 'hidden'});
	images.find('img').load(function() {
		-- length;
		if (!length) {
			setTimeout(function() {
				images.css({visibility: 'visible'});
				wall.fitWidth();
			}, 505);
		}
	});

</script>
